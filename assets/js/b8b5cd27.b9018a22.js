"use strict";(self.webpackChunkrancher_docs=self.webpackChunkrancher_docs||[]).push([[27349],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),g=o,f=d["".concat(l,".").concat(g)]||d[g]||p[g]||a;return n?r.createElement(f,s(s({ref:t},u),{},{components:n})):r.createElement(f,s({ref:t},u))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var c=2;c<a;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},89654:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var r=n(87462),o=(n(67294),n(3905));const a={title:"Ingress Configuration",description:"Ingress configuration"},s=void 0,i={unversionedId:"how-to-guides/new-user-guides/kubernetes-resources-setup/load-balancer-and-ingress-controller/ingress-configuration",id:"how-to-guides/new-user-guides/kubernetes-resources-setup/load-balancer-and-ingress-controller/ingress-configuration",title:"Ingress Configuration",description:"Ingress configuration",source:"@site/docs/how-to-guides/new-user-guides/kubernetes-resources-setup/load-balancer-and-ingress-controller/ingress-configuration.md",sourceDirName:"how-to-guides/new-user-guides/kubernetes-resources-setup/load-balancer-and-ingress-controller",slug:"/how-to-guides/new-user-guides/kubernetes-resources-setup/load-balancer-and-ingress-controller/ingress-configuration",permalink:"/how-to-guides/new-user-guides/kubernetes-resources-setup/load-balancer-and-ingress-controller/ingress-configuration",draft:!1,editUrl:"https://github.com/rancher/rancher-docs/edit/main/docs/how-to-guides/new-user-guides/kubernetes-resources-setup/load-balancer-and-ingress-controller/ingress-configuration.md",tags:[],version:"current",lastUpdatedAt:1682371566,formattedLastUpdatedAt:"Apr 24, 2023",frontMatter:{title:"Ingress Configuration",description:"Ingress configuration"},sidebar:"tutorialSidebar",previous:{title:"Adding Ingresses",permalink:"/how-to-guides/new-user-guides/kubernetes-resources-setup/load-balancer-and-ingress-controller/add-ingresses"},next:{title:"Services",permalink:"/how-to-guides/new-user-guides/kubernetes-resources-setup/create-services"}},l={},c=[{value:"Specify a hostname to use",id:"specify-a-hostname-to-use",level:2},{value:"Certificates",id:"certificates",level:2},{value:"Labels and Annotations",id:"labels-and-annotations",level:2}],u={toc:c};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"For Kubernetes v1.21 and up, the NGINX Ingress controller no longer runs in hostNetwork by default. It instead uses hostPorts for port 80 and port 443, so you can configure the admission webhook to be accessible only through the ClusterIP. This ensures that the webhook is only accessible from within the cluster."),(0,o.kt)("p",{parentName:"admonition"},"Because of this change to the controller, the default behavior no longer sets ",(0,o.kt)("inlineCode",{parentName:"p"},"hostNetwork")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),". However, you must set ",(0,o.kt)("inlineCode",{parentName:"p"},"hostNetwork")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," for TCP- and UDP-based Services to work.")),(0,o.kt)("h2",{id:"specify-a-hostname-to-use"},"Specify a hostname to use"),(0,o.kt)("p",null,"If you use this option, Ingress routes requests for a hostname to the service or workload that you specify."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Specify a path of type ",(0,o.kt)("inlineCode",{parentName:"li"},"Prefix")," and specify a path such as ",(0,o.kt)("inlineCode",{parentName:"li"},"/"),"."),(0,o.kt)("li",{parentName:"ol"},"Add a ",(0,o.kt)("strong",{parentName:"li"},"Target Service"),"."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Optional:")," If you want to specify a workload or service when a request is sent to a particular hostname path, add a ",(0,o.kt)("strong",{parentName:"li"},"Path")," for the target. For example, if you want requests for ",(0,o.kt)("inlineCode",{parentName:"li"},"www.mysite.com/contact-us")," to be sent to a different service than ",(0,o.kt)("inlineCode",{parentName:"li"},"www.mysite.com"),", enter ",(0,o.kt)("inlineCode",{parentName:"li"},"/contact-us")," in the ",(0,o.kt)("strong",{parentName:"li"},"Path")," field. Typically, the first rule that you create does not include a path."),(0,o.kt)("li",{parentName:"ol"},"Enter the ",(0,o.kt)("strong",{parentName:"li"},"Port")," number that each target operates on.")),(0,o.kt)("h2",{id:"certificates"},"Certificates"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You must have an SSL certificate that Ingress can use to encrypt and decrypt communications. For more information, see ",(0,o.kt)("a",{parentName:"p",href:"/how-to-guides/new-user-guides/kubernetes-resources-setup/encrypt-http-communication"},"Adding SSL Certificates"),".")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"To create an Ingress controller, click the ",(0,o.kt)("strong",{parentName:"li"},"Certificates")," tab."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Add Certificate"),"."),(0,o.kt)("li",{parentName:"ol"},"Select a ",(0,o.kt)("strong",{parentName:"li"},"Certificate - Secret Name")," from the drop-down list."),(0,o.kt)("li",{parentName:"ol"},"Enter the host using encrypted communication."),(0,o.kt)("li",{parentName:"ol"},"To add additional hosts that use the certificate, click ",(0,o.kt)("strong",{parentName:"li"},"Add Hosts"),".")),(0,o.kt)("h2",{id:"labels-and-annotations"},"Labels and Annotations"),(0,o.kt)("p",null,"Add ",(0,o.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/"},"Labels")," and/or ",(0,o.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/"},"Annotations")," to provide metadata for your Ingress controller."),(0,o.kt)("p",null,"For a list of annotations available for use, see the ",(0,o.kt)("a",{parentName:"p",href:"https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/"},"Nginx Ingress Controller Documentation"),"."))}p.isMDXComponent=!0}}]);