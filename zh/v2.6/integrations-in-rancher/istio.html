<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.6 plugin-docs plugin-id-default docs-doc-id-integrations-in-rancher/istio/istio" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Istio | Rancher</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ranchermanager.docs.rancher.com/zh/v2.6/integrations-in-rancher/istio"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="2.6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.6"><meta data-rh="true" name="docsearch:version" content="2.6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.6"><meta data-rh="true" property="og:title" content="Istio | Rancher"><meta data-rh="true" name="description" content="Istio is an open-source tool that makes it easier for DevOps teams to observe, secure, control, and troubleshoot the traffic within a complex network of microservices."><meta data-rh="true" property="og:description" content="Istio is an open-source tool that makes it easier for DevOps teams to observe, secure, control, and troubleshoot the traffic within a complex network of microservices."><link data-rh="true" rel="icon" href="/zh/img/favicon.png"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.6/integrations-in-rancher/istio" hreflang="en"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/zh/v2.6/integrations-in-rancher/istio" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.6/integrations-in-rancher/istio" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link data-rh="true" rel="canonical" href="https://ranchermanager.docs.rancher.com/integrations-in-rancher/istio"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Rancher" href="/zh/opensearch.xml">



<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="0f98beb0-fc4c-417d-a42e-564e2cae42d2" async></script>
<script src="/scripts/optanonwrapper.js" async></script><link rel="stylesheet" href="/zh/assets/css/styles.30c9cd28.css">
<link rel="preload" href="/zh/assets/js/runtime~main.8780aba9.js" as="script">
<link rel="preload" href="/zh/assets/js/main.9b16affc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/zh/v2.6">v2.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/integrations-in-rancher/istio">Latest</a></li><li><a class="dropdown__link" href="/zh/v2.8/integrations-in-rancher/istio">v2.8</a></li><li><a class="dropdown__link" href="/zh/v2.7/integrations-in-rancher/istio">v2.7</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/v2.6/integrations-in-rancher/istio">v2.6</a></li><li><a class="dropdown__link" href="/zh/v2.5">v2.5</a></li><li><a class="dropdown__link" href="/zh/v2.0-v2.4">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/zh/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/v2.6/integrations-in-rancher/istio" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/v2.6/integrations-in-rancher/istio" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Links</a><ul class="dropdown__menu"><li><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/rancher/rancher-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://elemental.docs.rancher.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__elemental">Elemental<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher__desktop">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/v2.6">什么是 Rancher？</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/getting-started/overview">开始使用</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/how-to-guides/new-user-guides">操作指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/reference-guides/best-practices">参考指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh/v2.6/integrations-in-rancher/cloud-marketplace">Rancher 中的集成</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/integrations-in-rancher/cloud-marketplace">云市场集成</a><button aria-label="打开/收起侧边栏菜单「云市场集成」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/integrations-in-rancher/cis-scans">CIS 扫描</a><button aria-label="打开/收起侧边栏菜单「CIS 扫描」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/integrations-in-rancher/fleet-gitops-at-scale">使用 Feet 进行持续交付</a><button aria-label="打开/收起侧边栏菜单「使用 Feet 进行持续交付」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/integrations-in-rancher/harvester">Harvester 集成</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/zh/v2.6/integrations-in-rancher/istio">Istio</a><button aria-label="打开/收起侧边栏菜单「Istio」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/integrations-in-rancher/istio/cpu-and-memory-allocations">CPU 和内存分配</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/integrations-in-rancher/istio/rbac-for-istio">RBAC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/integrations-in-rancher/istio/disable-istio">禁用 Istio</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/integrations-in-rancher/istio/configuration-options">配置选项</a><button aria-label="打开/收起侧边栏菜单「配置选项」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/integrations-in-rancher/longhorn">Longhorn - Kubernetes 的云原生分布式块存储</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/integrations-in-rancher/logging">Logging</a><button aria-label="打开/收起侧边栏菜单「Logging」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/integrations-in-rancher/monitoring-and-alerting">监控和告警</a><button aria-label="打开/收起侧边栏菜单「监控和告警」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/integrations-in-rancher/neuvector">NeuVector 集成</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/integrations-in-rancher/opa-gatekeeper">OPA Gatekeeper</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/faq/general-faq">常见问题</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/troubleshooting/general-troubleshooting">故障排除</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/v2.6/contribute-to-rancher">参与 Rancher 社区贡献</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Rancher 中的集成</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Istio</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：v2.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Istio</h1></header><p><a href="https://istio.io/" target="_blank" rel="noopener noreferrer">Istio</a> is an open-source tool that makes it easier for DevOps teams to observe, secure, control, and troubleshoot the traffic within a complex network of microservices.</p><p>As a network of microservices changes and grows, the interactions between them can become increasingly difficult to manage and understand. In such a situation, it is useful to have a service mesh as a separate infrastructure layer. Istio&#x27;s service mesh lets you manipulate traffic between microservices without changing the microservices directly.</p><p>Our integration of Istio is designed so that a Rancher operator, such as an administrator or cluster owner, can deliver Istio to a team of developers. Then developers can use Istio to enforce security policies, troubleshoot problems, or manage traffic for green/blue deployments, canary deployments, or A/B testing.</p><p>This core service mesh provides features that include but are not limited to the following:</p><ul><li><strong>Traffic Management</strong> such as ingress and egress routing, circuit breaking, mirroring.</li><li><strong>Security</strong> with resources to authenticate and authorize traffic and users, mTLS included.</li><li><strong>Observability</strong> of logs, metrics, and distributed traffic flows.</li></ul><p>After <a href="/zh/v2.6/how-to-guides/advanced-user-guides/istio-setup-guide">setting up istio</a> you can leverage Istio&#x27;s control plane functionality through the Rancher UI, <code>kubectl</code>, or <code>istioctl</code>.</p><p>Istio needs to be set up by a <code>cluster-admin</code> before it can be used in a project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-new-in-rancher-v25">What&#x27;s New in Rancher v2.5<a href="#whats-new-in-rancher-v25" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>The overall architecture of Istio has been simplified. A single component, Istiod, has been created by combining Pilot, Citadel, Galley and the sidecar injector. Node Agent functionality has also been merged into istio-agent.</p><p>Addons that were previously installed by Istio (cert-manager, Grafana, Jaeger, Kiali, Prometheus, Zipkin) will now need to be installed separately. Istio will support installation of integrations that are from the Istio Project and will maintain compatibility with those that are not.</p><p>A Prometheus integration will still be available through an installation of <a href="/zh/v2.6/integrations-in-rancher/monitoring-and-alerting">Rancher Monitoring</a>, or by installing your own Prometheus operator. Rancher&#x27;s Istio chart will also install Kiali by default to ensure you can get a full picture of your microservices out of the box.</p><p>Istio has migrated away from Helm as a way to install Istio and now provides installation through the istioctl binary or Istio Operator. To ensure the easiest interaction with Istio, Rancher&#x27;s Istio will maintain a Helm chart that utilizes the istioctl binary to manage your Istio installation.</p><p>This Helm chart will be available via the Apps and Marketplace in the UI. A user that has access to the Rancher Chart&#x27;s catalog will need to set up Istio before it can be used in the project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tools-bundled-with-istio">Tools Bundled with Istio<a href="#tools-bundled-with-istio" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Our <a href="https://istio.io/" target="_blank" rel="noopener noreferrer">Istio</a> installer wraps the istioctl binary commands in a handy Helm chart, including an overlay file option to allow complex customization.</p><p>It also includes the following:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kiali">Kiali<a href="#kiali" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>Kiali is a comprehensive visualization aid used for graphing traffic flow throughout the service mesh. It allows you to see how they are connected, including the traffic rates and latencies between them.</p><p>You can check the health of the service mesh, or drill down to see the incoming and outgoing requests to a single component.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jaeger">Jaeger<a href="#jaeger" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>Our Istio installer includes a quick-start, all-in-one installation of <a href="https://www.jaegertracing.io/" target="_blank" rel="noopener noreferrer">Jaeger,</a> a tool used for tracing distributed systems.</p><p>Note that this is not a production-qualified deployment of Jaeger. This deployment uses an in-memory storage component, while a persistent storage component is recommended for production. For more information on which deployment strategy you may need, refer to the <a href="https://www.jaegertracing.io/docs/latest/operator/#production-strategy" target="_blank" rel="noopener noreferrer">Jaeger documentation.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Before enabling Istio, we recommend that you confirm that your Rancher worker nodes have enough <a href="/zh/v2.6/integrations-in-rancher/cpu-and-memory-allocations.md">CPU and memory</a> to run all of the components of Istio.</p><p>If you are installing Istio on RKE2 cluster, some additional steps are required. For details, see <a href="#additional-steps-for-installing-istio-on-an-rke2-cluster">this section.</a></p><p>Note that Istio v2 (upstream Istio v1.7+) cannot be upgraded in an air gapped environment.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-guide">Setup Guide<a href="#setup-guide" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Refer to the <a href="/zh/v2.6/how-to-guides/advanced-user-guides/istio-setup-guide">setup guide</a> for instructions on how to set up Istio and use it in a project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="remove-istio">Remove Istio<a href="#remove-istio" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>To remove Istio components from a cluster, namespace, or workload, refer to the section on <a href="/zh/v2.6/integrations-in-rancher/disable-istio.md">uninstalling Istio.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="migrate-from-previous-istio-version">Migrate From Previous Istio Version<a href="#migrate-from-previous-istio-version" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>There is no upgrade path for Istio versions less than 1.7.x. To successfully install Istio through <strong>Apps &amp; Marketplace</strong> (Rancher before v2.6.5) or <strong>App</strong> (Rancher v2.6.5+), you will need to disable your existing Istio from the global view in the legacy Rancher UI.</p><p>If you have a significant amount of additional Istio CRDs you might consider manually migrating CRDs that are supported in both versions of Istio. You can do this by running <code>kubectl get &lt;resource&gt; -n istio-system -o yaml</code>, save the output yaml and re-apply in the new version.</p><p>Another option is to manually uninstall istio resources one at a time, but leave the resources that are supported in both versions of Istio and that will not be installed by the newest version. This method is more likely to result in issues installing the new version, but could be a good option depending on your situation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-visualizations">Accessing Visualizations<a href="#accessing-visualizations" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><blockquote><p>By default, only cluster-admins have access to Kiali. For instructions on how to allow admin, edit or views roles to access them, see <a href="/zh/v2.6/integrations-in-rancher/rbac-for-istio.md">this section.</a></p></blockquote><p>After Istio is set up in a cluster, Grafana, Prometheus, and Kiali are available in the Rancher UI.</p><p>To access the Grafana and Prometheus visualizations,</p><ol><li>In the upper left corner, click <strong>☰ &gt; Cluster Management</strong>.</li><li>On the <strong>Clusters</strong> page, go to the cluster where you want to see the visualizations and click <strong>Explore</strong>.</li><li>In the left navigation bar, click <strong>Monitoring</strong>.</li><li>Click <strong>Grafana</strong> or any of the other dashboards.</li></ol><p>To access the Kiali visualization,</p><ol><li>In the upper left corner, click <strong>☰ &gt; Cluster Management</strong>.</li><li>On the <strong>Clusters</strong> page, go to the cluster where you want to see Kiali and click <strong>Explore</strong>.</li><li>In the left navigation bar, click <strong>Istio</strong>.</li><li>Click <strong>Kiali</strong>. From here you can access the <strong>Traffic Graph</strong> tab or the <strong>Traffic Metrics</strong> tab to see network visualizations and metrics.</li></ol><p>By default, all namespace will picked up by prometheus and make data available for Kiali graphs. Refer to <a href="/zh/v2.6/integrations-in-rancher/configuration-options/selectors-and-scrape-configurations.md">selector/scrape config setup</a> if you would like to use a different configuration for prometheus data scraping.</p><p>Your access to the visualizations depend on your role. Grafana and Prometheus are only available for <code>cluster-admin</code> roles. The Kiali UI is available only to <code>cluster-admin</code> by default, but <code>cluster-admin</code> can allow other roles to access them by editing the Istio values.yaml.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Istio installs a service mesh that uses <a href="https://www.envoyproxy.io" target="_blank" rel="noopener noreferrer">Envoy</a> sidecar proxies to intercept traffic to each workload. These sidecars intercept and manage service-to-service communication, allowing fine-grained observation and control over traffic within the cluster.</p><p>Only workloads that have the Istio sidecar injected can be tracked and controlled by Istio.</p><p>When a namespace has Istio enabled, new workloads deployed in the namespace will automatically have the Istio sidecar. You need to manually enable Istio in preexisting workloads.</p><p>For more information on the Istio sidecar, refer to the <a href="https://istio.io/docs/setup/kubernetes/additional-setup/sidecar-injection/" target="_blank" rel="noopener noreferrer">Istio sidecare-injection docs</a> and for more information on Istio&#x27;s architecture, refer to the <a href="https://istio.io/latest/docs/ops/deployment/architecture/" target="_blank" rel="noopener noreferrer">Istio Architecture docs</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-ingresses">Multiple Ingresses<a href="#multiple-ingresses" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>By default, each Rancher-provisioned cluster has one NGINX ingress controller allowing traffic into the cluster. Istio also installs an ingress gateway by default into the <code>istio-system</code> namespace.  The result is that your cluster will have two ingresses in your cluster.</p><p><img loading="lazy" alt="In an Istio-enabled cluster, you can have two ingresses: the default Nginx ingress, and the default Istio controller." src="/zh/assets/images/istio-ingress-3ca2b3bfa19fe1f0d38b74966b383ac0.svg" width="691" height="572" class="img_ev3q"></p><p> Additional Istio Ingress gateways can be enabled via the <a href="/zh/v2.6/integrations-in-rancher/istio/configuration-options#overlay-file">overlay file</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="egress-support">Egress Support<a href="#egress-support" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>By default the Egress gateway is disabled, but can be enabled on install or upgrade through the values.yaml or via the <a href="/zh/v2.6/integrations-in-rancher/istio/configuration-options#overlay-file">overlay file</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-steps-for-installing-istio-on-an-rke2-cluster">Additional Steps for Installing Istio on an RKE2 Cluster<a href="#additional-steps-for-installing-istio-on-an-rke2-cluster" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>To install Istio on an RKE2 cluster, follow the steps in <a href="/zh/v2.6/integrations-in-rancher/configuration-options/install-istio-on-rke2-cluster.md">this section.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-istio-in-an-air-gapped-environment">Upgrading Istio in an Air-Gapped Environment<a href="#upgrading-istio-in-an-air-gapped-environment" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>In Rancher v2.6.x and up, Istio may be upgraded in an air-gapped environment.</p><p>The Istio pod security policy is now enabled by default. A new value, <code>installer.releaseMirror.enabled</code>, has been added to the rancher-istio chart to enable and disable the server that supports air-gapped upgrades. Note that <code>installer.releaseMirror.enabled</code> is set to <code>false</code> by default. You can set this value as needed when you install or upgrade. Follow the steps below:</p><ol><li>Provision an air-gapped Rancher 2.6.x instance and an air-gapped custom cluster in the Rancher UI.</li><li>Install Monitoring in the cluster: <strong>Cluster Explorer -&gt; Apps &amp; Marketplace -&gt; Charts -&gt; Monitoring</strong>.</li><li>Pull all required images for Istio into the private registry you will use in the air-gapped environment.</li><li>Install Istio in the cluster: <strong>Cluster Explorer -&gt; Apps &amp; Marketplace -&gt; Charts -&gt; Istio</strong>.</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>You can enable <a href="https://www.jaegertracing.io/" target="_blank" rel="noopener noreferrer">Jaeger</a> and <a href="https://kiali.io/" target="_blank" rel="noopener noreferrer">Kiali</a> on a fresh Istio install. To ensure that Jaeger and Kiali work, set <code>installer.releaseMirror.enabled</code> to <code>true</code> in <code>values.yaml</code> during installation.</p></div></div><ol start="5"><li>Upgrade the Istio installation.</li></ol><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>If you haven&#x27;t already, set <code>installer.releaseMirror.enabled=true</code> to upgrade Istio.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.6/integrations-in-rancher/istio/istio.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2024-01-29T18:07:22.000Z">2024年1月29日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/v2.6/integrations-in-rancher/harvester"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Harvester 集成</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/v2.6/integrations-in-rancher/istio/cpu-and-memory-allocations"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">CPU 和内存分配</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#whats-new-in-rancher-v25" class="table-of-contents__link toc-highlight">What&#39;s New in Rancher v2.5</a></li><li><a href="#tools-bundled-with-istio" class="table-of-contents__link toc-highlight">Tools Bundled with Istio</a><ul><li><a href="#kiali" class="table-of-contents__link toc-highlight">Kiali</a></li><li><a href="#jaeger" class="table-of-contents__link toc-highlight">Jaeger</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setup-guide" class="table-of-contents__link toc-highlight">Setup Guide</a></li><li><a href="#remove-istio" class="table-of-contents__link toc-highlight">Remove Istio</a></li><li><a href="#migrate-from-previous-istio-version" class="table-of-contents__link toc-highlight">Migrate From Previous Istio Version</a></li><li><a href="#accessing-visualizations" class="table-of-contents__link toc-highlight">Accessing Visualizations</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a><ul><li><a href="#multiple-ingresses" class="table-of-contents__link toc-highlight">Multiple Ingresses</a></li><li><a href="#egress-support" class="table-of-contents__link toc-highlight">Egress Support</a></li></ul></li><li><a href="#additional-steps-for-installing-istio-on-an-rke2-cluster" class="table-of-contents__link toc-highlight">Additional Steps for Installing Istio on an RKE2 Cluster</a></li><li><a href="#upgrading-istio-in-an-air-gapped-environment" class="table-of-contents__link toc-highlight">Upgrading Istio in an Air-Gapped Environment</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.8780aba9.js"></script>
<script src="/zh/assets/js/main.9b16affc.js"></script>
</body>
</html>