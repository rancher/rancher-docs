<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.6 plugin-docs plugin-id-default docs-doc-id-how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">配置 Azure AD | Rancher</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ranchermanager.docs.rancher.com/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="2.6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.6"><meta data-rh="true" name="docsearch:version" content="2.6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.6"><meta data-rh="true" property="og:title" content="配置 Azure AD | Rancher"><meta data-rh="true" name="description" content="Microsoft Graph API"><meta data-rh="true" property="og:description" content="Microsoft Graph API"><link data-rh="true" rel="icon" href="/zh/img/favicon.png"><link data-rh="true" rel="canonical" href="https://ranchermanager.docs.rancher.com/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad" hreflang="en"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Rancher" href="/zh/opensearch.xml">



<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="0f98beb0-fc4c-417d-a42e-564e2cae42d2" async></script>
<script src="/scripts/optanonwrapper.js" async></script><link rel="stylesheet" href="/zh/assets/css/styles.30c9cd28.css">
<link rel="preload" href="/zh/assets/js/runtime~main.d617563d.js" as="script">
<link rel="preload" href="/zh/assets/js/main.fd53caf0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/zh/v2.6">v2.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad">Latest</a></li><li><a class="dropdown__link" href="/zh/v2.8/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad">v2.8</a></li><li><a class="dropdown__link" href="/zh/v2.7/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad">v2.7</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad">v2.6</a></li><li><a class="dropdown__link" href="/zh/v2.5">v2.5</a></li><li><a class="dropdown__link" href="/zh/v2.0-v2.4">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/zh/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Links</a><ul class="dropdown__menu"><li><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/rancher/rancher-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://elemental.docs.rancher.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__elemental">Elemental<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher__desktop">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/v2.6">什么是 Rancher？</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/getting-started/overview">开始使用</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh/v2.6/how-to-guides/new-user-guides">操作指南</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides">新用户指南</a><button aria-label="打开/收起侧边栏菜单「新用户指南」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration">身份验证、权限和全局配置</a><button aria-label="打开/收起侧边栏菜单「身份验证、权限和全局配置」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config">Configuring Authentication</a><button aria-label="打开/收起侧边栏菜单「Configuring Authentication」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/manage-users-and-groups">用户和组</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/create-local-users">本地身份验证</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-google-oauth">配置 Google OAuth</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-active-directory">配置 Active Directory (AD)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-freeipa">配置 FreeIPA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad">配置 Azure AD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-github">配置 GitHub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-keycloak-oidc">配置 Keycloak (OIDC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-keycloak-saml">配置 Keycloak (SAML)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-pingidentity">配置 PingIdentity (SAML)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-okta-saml">配置 Okta (SAML)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/configure-openldap">Configuring OpenLDAP</a><button aria-label="打开/收起侧边栏菜单「Configuring OpenLDAP」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/configure-microsoft-ad-federation-service-saml">Configuring Microsoft AD Federation Service (SAML)</a><button aria-label="打开/收起侧边栏菜单「Configuring Microsoft AD Federation Service (SAML)」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/configure-shibboleth-saml">Configuring Shibboleth (SAML)</a><button aria-label="打开/收起侧边栏菜单「Configuring Shibboleth (SAML)」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac">Managing Role-Based Access Control (RBAC)</a><button aria-label="打开/收起侧边栏菜单「Managing Role-Based Access Control (RBAC)」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/about-provisioning-drivers">关于 Provisioning 驱动</a><button aria-label="打开/收起侧边栏菜单「关于 Provisioning 驱动」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/about-rke1-templates">关于 RKE1 模板</a><button aria-label="打开/收起侧边栏菜单「关于 RKE1 模板」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/create-pod-security-policies">Pod 安全策略</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/global-default-private-registry">配置全局默认私有镜像仓库</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/custom-branding">定制品牌</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/manage-clusters">Cluster Administration</a><button aria-label="打开/收起侧边栏菜单「Cluster Administration」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/kubernetes-cluster-setup">Setting up a Kubernetes Cluster for Rancher Server</a><button aria-label="打开/收起侧边栏菜单「Setting up a Kubernetes Cluster for Rancher Server」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/infrastructure-setup">基础设施设置</a><button aria-label="打开/收起侧边栏菜单「基础设施设置」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/kubernetes-clusters-in-rancher-setup">Rancher 设置中的 Kubernetes 集群</a><button aria-label="打开/收起侧边栏菜单「Rancher 设置中的 Kubernetes 集群」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/launch-kubernetes-with-rancher">Launching Kubernetes with Rancher</a><button aria-label="打开/收起侧边栏菜单「Launching Kubernetes with Rancher」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/kubernetes-resources-setup">Kubernetes 资源设置</a><button aria-label="打开/收起侧边栏菜单「Kubernetes 资源设置」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/helm-charts-in-rancher">Helm Charts and Apps</a><button aria-label="打开/收起侧边栏菜单「Helm Charts and Apps」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/deploy-apps-across-clusters">Deploying Apps Across Clusters</a><button aria-label="打开/收起侧边栏菜单「Deploying Apps Across Clusters」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery">备份、还原和灾难恢复</a><button aria-label="打开/收起侧边栏菜单「备份、还原和灾难恢复」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/add-users-to-projects">添加项目成员</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.6/how-to-guides/new-user-guides/manage-namespaces">命名空间</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.6/how-to-guides/advanced-user-guides">高级用户指南</a><button aria-label="打开/收起侧边栏菜单「高级用户指南」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/reference-guides/best-practices">参考指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/integrations-in-rancher/cloud-marketplace">Rancher 中的集成</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/faq/general-faq">常见问题</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.6/troubleshooting/general-troubleshooting">故障排除</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/v2.6/contribute-to-rancher">参与 Rancher 社区贡献</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">操作指南</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/v2.6/how-to-guides/new-user-guides"><span itemprop="name">新用户指南</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration"><span itemprop="name">身份验证、权限和全局配置</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config"><span itemprop="name">Configuring Authentication</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">配置 Azure AD</span><meta itemprop="position" content="5"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：v2.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>配置 Azure AD</h1></header><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Rancher v2.6.7+</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Rancher v2.6.0 - v2.6.6</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="microsoft-graph-api">Microsoft Graph API<a href="#microsoft-graph-api" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Microsoft Graph API 现在是设置 Azure AD 的流程。下文将帮助<a href="#%E6%96%B0%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE">新用户</a>使用新实例来配置 Azure AD，并帮助现有 Azure 应用所有者<a href="#%E4%BB%8E-azure-ad-graph-api-%E8%BF%81%E7%A7%BB%E5%88%B0-microsoft-graph-api">迁移到新流程</a>。</p><p>Rancher 中的 Microsoft Graph API 流程正在不断发展。建议你使用最新的 2.6 补丁版本，该版本仍在积极开发中，并将持续获得新功能和改进。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="新用户设置">新用户设置<a href="#新用户设置" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>如果你在 Azure 中托管了一个 Active Directory（AD）实例，你可以将 Rancher 配置为允许你的用户使用 AD 账号登录。你需要在 Azure 和 Rancher 中进行 Azure AD 外部身份验证。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>注意事项</div><div class="admonitionContent_S0QG"><ul><li>Azure AD 集成仅支持服务提供商发起的登录。</li><li>大部分操作是从 <a href="https://portal.azure.com/" target="_blank" rel="noopener noreferrer">Microsoft Azure 门户</a>执行的。</li></ul></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="azure-active-directory-配置概述">Azure Active Directory 配置概述<a href="#azure-active-directory-配置概述" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p>要将 Rancher 配置为允许用户使用其 Azure AD 账号进行身份验证，你需要执行多个步骤。在你开始之前，请查看下文操作步骤大纲。</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>在开始之前，打开两个浏览器选项卡：一个用于 Rancher，另一个用于 Azure 门户。这样，你可以将门户的配置值复制并粘贴到 Rancher 中。</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-在-azure-注册-rancher">1. 在 Azure 注册 Rancher<a href="#1-在-azure-注册-rancher" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p>在 Rancher 中启用 Azure AD 之前，你必须先向 Azure 注册 Rancher。</p><ol><li><p>以管理用户身份登录 <a href="https://portal.azure.com/" target="_blank" rel="noopener noreferrer">Microsoft Azure</a>。后续配置步骤中需要管理访问权限。</p></li><li><p>使用搜索功能打开 <strong>App registrations</strong> 服务。</p></li><li><p>点击 <strong>New registration</strong> 并填写表单。</p><p><img loading="lazy" alt="New App Registration" src="/zh/assets/images/new-app-registration-59bd7ed40c2a28a68136c698fa6ead86.png" width="1966" height="1690" class="img_ev3q"></p><ol><li><p>输入 <strong>Name</strong>（例如 <code>Rancher</code>）。</p><a id="3.2"></a></li><li><p>在 <strong>Supported account types</strong> 中，选择 <strong>Accounts in this organizational directory only (AzureADTest only - Single tenant)</strong>。这对应于旧版应用注册选项。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>在更新后的 Azure 门户中，Redirect URI 与 Reply URL 的意思相同。为了将 Azure AD 与 Rancher 一起使用，你必须将 Rancher 列入 Azure 白名单（之前通过 Reply URL 完成）。因此，请确保使用你的 Rancher Server URL 填写 Redirect URI，以包含下面列出的验证路径。</p></div></div></li><li><p>在 <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/reply-url" target="_blank" rel="noopener noreferrer"><strong>Redirect URI</strong></a> 中，确保从下拉列表中选择 <strong>Web</strong>，并在旁边的文本框中输入 Rancher Server 的 URL。Rancher Server URL 后需要追加验证路径，例如 <code>&lt;MY_RANCHER_URL&gt;/verify-auth-azure</code>。</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>你可以在 Azure AD 身份验证页面（全局视图 &gt; Authentication &gt; Web）中找到你 Rancher 中的个性化 Azure Redirect URI（Reply URL）。</p></div></div></li><li><p>单击 <strong>Register</strong>。</p></li></ol></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>此更改可能需要五分钟才能生效。因此，如果在配置 Azure AD 之后无法立即进行身份验证，请不要惊慌。</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-创建客户端密文">2. 创建客户端密文<a href="#2-创建客户端密文" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p>在 Azure 门户中，创建一个客户端密文。Rancher 将使用此密钥向 Azure AD 进行身份验证。</p><ol><li><p>使用搜索功能打开 <strong>App registrations</strong> 服务。然后打开你在上一个步骤中创建的 Rancher 项。</p><p><img loading="lazy" alt="Open Rancher Registration" src="/zh/assets/images/open-rancher-app-reg-5b20da33433cbef42e010c94d1fcf334.png" width="827" height="544" class="img_ev3q"></p></li><li><p>在导航窗格中，单击 <strong>Certificates &amp; secrets</strong>。</p></li><li><p>单击 <strong>New client secret</strong>。
<img loading="lazy" alt="创建新的客户端密文" src="/zh/assets/images/new-client-secret-0b15bf6a6882b115021ee92df3b63adc.png" width="2878" height="1100" class="img_ev3q"></p></li><li><p>输入 <strong>Description</strong>（例如 <code>Rancher</code>）。</p></li><li><p>从 <strong>Expires</strong> 下的选项中选择持续时间。此下拉菜单设置的是密钥的到期日期。日期越短则越安全，但需要你更频繁地创建新密钥。
请注意，如果检测到应用程序 Secret 已过期，用户将无法登录 Rancher。为避免此问题，请在 Azure 中轮换 Secret 并在过期前在 Rancher 中更新它。</p></li><li><p>单击 <strong>Add</strong>（无需输入值，保存后会自动填充）。</p><a id="secret"></a></li><li><p>稍后你将在 Rancher UI 中输入此密钥作为你的 <strong>Application Secret</strong>。由于你将无法在 Azure UI 中再次访问键值，因此请在其余设置过程中保持打开此窗口。</p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-设置-rancher-所需的权限">3. 设置 Rancher 所需的权限<a href="#3-设置-rancher-所需的权限" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p>接下来，在 Azure 中为 Rancher 设置 API 权限。</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>确保你设置了 Application 权限，而<em>不是</em> Delegated 权限。否则，你将无法登录 Azure AD。</p></div></div><ol><li><p>在导航窗格中，选择 <strong>API permissions</strong>。</p></li><li><p>单击 <strong>Add a permission</strong>。</p></li><li><p>从 Microsoft Graph API 中，选择以下 <strong>Application Permissions</strong>: <code>Directory.Read.All</code>。</p><p><img loading="lazy" alt="选择 API 权限" src="/zh/assets/images/api-permissions-bbec1fbc67990a297b9401f5892d30b8.png" width="1848" height="1524" class="img_ev3q"></p></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>在 Rancher 2.6.7-2.6.10 版本中，你需要使用 <code>User.Read.All</code> 和 <code>Group.Read.All</code> 来获取权限。在 v2.6.11 中已更改为允许范围较小的权限（例如 <code>Directory.Read.All</code>）。</p></div></div><ol><li>返回导航栏中的 <strong>API permissions</strong>。在那里，单击 <strong>Grant admin consent</strong>。然后单击 <strong>Yes</strong>。该应用程序的权限应如下所示：</li></ol><p><img loading="lazy" alt="Open Required Permissions" src="/zh/assets/images/select-req-permissions-575ef9d493f6f5414b65b0ff7eb14c03.png" width="2242" height="1012" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_S0QG"><p>Rancher 不会验证你授予 Azure 应用程序的权限。你可以自由使用任何你所需的权限，只要这些权限允许 Rancher 使用 AD 用户和组。</p><p>具体来说，Rancher 需要允许以下操作的权限：</p><ul><li>获取一个用户。</li><li>列出所有用户。</li><li>列出给定用户所属的组。</li><li>获取一个组。</li><li>列出所有组。</li></ul><p>Rancher 执行这些操作来登录用户或搜索用户/组。请记住，权限必须是 <code>Application</code> 类型。</p><p>下面是几个满足 Rancher 需求的权限组合示例：</p><ul><li><code>Directory.Read.All</code></li><li><code>User.Read.All</code> 和 <code>GroupMember.Read.All</code></li><li><code>User.Read.All</code> 和 <code>Group.Read.All</code></li></ul></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-复制-azure-应用数据">4. 复制 Azure 应用数据<a href="#4-复制-azure-应用数据" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p><img loading="lazy" alt="Application ID" src="/zh/assets/images/app-configuration-287289a3380340c46b6c413c202b96af.png" width="1600" height="590" class="img_ev3q"></p><ol><li><p>获取你的 Rancher <strong>租户 ID</strong>。</p><ol><li><p>使用搜索打开 <strong>App registrations</strong>。</p></li><li><p>找到你为 Rancher 创建的项。</p></li><li><p>复制 <strong>Directory ID</strong> 并将其作为 <strong>Tenant ID</strong> 粘贴到 Rancher 中。</p></li></ol></li><li><p>获取你的 Rancher <strong>Application (Client) ID</strong>。</p><ol><li><p>如果你还未在该位置，请使用搜索打开 <strong>App registrations</strong>。</p></li><li><p>在 <strong>Overview</strong>中，找到你为 Rancher 创建的条目。</p></li><li><p>复制 <strong>Application (Client) ID</strong> 并将其作为 <strong>Application ID</strong> 粘贴到 Rancher 中。</p></li></ol></li><li><p>你的端点选项通常是 <a href="#global">Standard</a> 或 <a href="#%E4%B8%AD%E5%9B%BD">China</a>。对于这两个选项，你只需要输入 <strong>Tenant ID</strong>、<strong>Application ID</strong> 和 <strong>Application Secret</strong>。</p></li></ol><p><img loading="lazy" alt="标准端点选项" src="/zh/assets/images/tenant-application-id-secret-94a4ceccec0454d98ae6543f732857cb.png" width="3574" height="1866" class="img_ev3q"></p><p><strong>对于自定义端点</strong>：</p><p><strong>警告</strong>：Rancher 未测试也未完全支持自定义端点。</p><p>你还需要手动输入 Graph、Token 和 Auth Endpoints。</p><ul><li>从 <b>App registrations</b> 中，点击 <b>Endpoints</b>：</li></ul><p><img loading="lazy" alt="点击端点" src="/zh/assets/images/endpoints-a84e7e422cf92a96a602bf189985508f.png" width="1296" height="272" class="img_ev3q"></p><ul><li>以下端点将是你的 Rancher 端点值。请使用这些端点的 v1 版本。<ul><li><strong>Microsoft Graph API endpoint</strong>（Graph 端点）</li><li><strong>OAuth 2.0 token endpoint (v1)</strong>（Token 端点）</li><li><strong>OAuth 2.0 authorization endpoint (v1)</strong> (Auth 端点)</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-在-rancher-中配置-azure-ad">5. 在 Rancher 中配置 Azure AD<a href="#5-在-rancher-中配置-azure-ad" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p>在 Rancher UI 中，输入托管在 Azure 中的 AD 实例的信息以完成配置。</p><ol><li><p>登录到 Rancher。</p></li><li><p>在左上角，单击 <strong>☰ &gt; 用户 &amp; 认证</strong>。</p></li><li><p>在左侧导航栏，单击<strong>认证</strong>。</p></li><li><p>单击 <strong>AzureAD</strong>。</p></li><li><p>使用你在<a href="#4-%E5%A4%8D%E5%88%B6-azure-%E5%BA%94%E7%94%A8%E6%95%B0%E6%8D%AE">复制 Azure 应用数据</a>时复制的信息，填写<strong>配置 Azure AD 账号</strong>的表单。</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>Azure AD 帐户将被授予管理员权限，因为其详细信息将映射到 Rancher 本地主体帐户。在继续之前确保此权限级别是适当的。</p></div></div><p><strong>对于标准或中国端点：</strong></p><p>下表介绍了你在 Azure 门户中复制的值与 Rancher 中字段的映射：</p><table><thead><tr><th>Rancher 字段</th><th>Azure 值</th></tr></thead><tbody><tr><td>租户 ID</td><td>Directory ID</td></tr><tr><td>Application ID</td><td>Application ID</td></tr><tr><td>应用密文</td><td>Key Value</td></tr><tr><td>端点</td><td><a href="https://login.microsoftonline.com/" target="_blank" rel="noopener noreferrer">https://login.microsoftonline.com/</a></td></tr></tbody></table><p><strong>对于自定义端点</strong>：</p><p>下表介绍了你在 Azure 门户中复制的自定义配置值与 Rancher 中字段的映射：</p><table><thead><tr><th>Rancher 字段</th><th>Azure 值</th></tr></thead><tbody><tr><td>Graph 端点</td><td>Microsoft Graph API Endpoint</td></tr><tr><td>Token 端点</td><td>OAuth 2.0 Token Endpoint</td></tr><tr><td>Auth 端点</td><td>OAuth 2.0 Authorization Endpoint</td></tr></tbody></table><p><strong>重要提示</strong>：在自定义配置中输入 Graph Endpoint 时，请从 URL 中删除 Tenant ID：</p><code>http<span>s://g</span>raph.microsoft.com<del>/abb5adde-bee8-4821-8b03-e63efdc7701c</del></code></li><li><p>点击<strong>启用</strong>。</p></li></ol><p><strong>结果</strong>：Azure Active Directory 身份验证已配置。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="从-azure-ad-graph-api-迁移到-microsoft-graph-api">从 Azure AD Graph API 迁移到 Microsoft Graph API<a href="#从-azure-ad-graph-api-迁移到-microsoft-graph-api" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>由于 <a href="https://docs.microsoft.com/en-us/graph/migrate-azure-ad-graph-overview" target="_blank" rel="noopener noreferrer">Azure AD Graph API</a> 已弃用并计划于 2023 年 6 月停用，管理员应更新他们的 Azure AD 应用程序以在 Rancher 中使用 <a href="https://docs.microsoft.com/en-us/graph/use-the-api" target="_blank" rel="noopener noreferrer">Microsoft Graph API</a>。
你需要在端点弃用之前完成操作。
如果在停用后 Rancher 仍配置为使用 Azure AD Graph API，用户可能无法使用 Azure AD 登录 Rancher。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="在-rancher-ui-中更新端点">在 Rancher UI 中更新端点<a href="#在-rancher-ui-中更新端点" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>管理员需要在迁移下述端点之前创建一个 <a href="/zh/v2.6/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-rancher">Rancher 备份</a>。</p></div></div><ol><li><p><a href="#3-%E8%AE%BE%E7%BD%AE-rancher-%E6%89%80%E9%9C%80%E7%9A%84%E6%9D%83%E9%99%90">更新</a> Azure AD 应用程序注册的权限。这个步骤非常关键。</p></li><li><p>登录到 Rancher。</p></li><li><p>在 Rancher UI 主页中，记下屏幕顶部的横幅，该横幅建议用户更新 Azure AD 身份验证。单击提供的链接以执行此操作。</p><p><img loading="lazy" alt="Rancher UI 横幅" src="/zh/assets/images/rancher-ui-azure-update-ff6ad0b948cef1983d8327e56300fabf.png" width="2532" height="616" class="img_ev3q"></p></li><li><p>要完成新的 Microsoft Graph API 迁移，请单击 <strong>Update Endpoint</strong>。</p><p><strong>注意</strong>：在开始更新之前，请确保你的 Azure 应用程序具有<a href="#3-%E8%AE%BE%E7%BD%AE-rancher-%E6%89%80%E9%9C%80%E7%9A%84%E6%9D%83%E9%99%90">新的权限集</a>。</p><p><img loading="lazy" alt="更新端点" src="/zh/assets/images/rancher-button-to-update-192a6ebc55a50b8fcfd5acc5d17c7f9b.png" width="2558" height="1126" class="img_ev3q"></p></li><li><p>在收到弹出警告消息时，单击 <strong>Update</strong>：</p><p><img loading="lazy" alt="Azure 更新弹出窗口" src="/zh/assets/images/azure-update-popup-b45a735aebc6c2768e602f4028867c72.png" width="2720" height="1276" class="img_ev3q"></p></li><li><p>有关 Rancher 执行的完整端点更改，请参阅下面的<a href="#global">表格</a>。管理员不需要手动执行此操作。</p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="离线环境">离线环境<a href="#离线环境" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p>在离线环境中，由于 Graph Endpoint URL 正在更改，因此管理员需要确保其端点被<a href="#3.2">列入白名单</a>。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="回滚迁移">回滚迁移<a href="#回滚迁移" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><p>如果你需要回滚迁移，请注意以下事项：</p><ol><li><p>如果管理员想要回滚，我们建议他们使用正确的恢复流程。有关参考信息，请参阅<a href="/zh/v2.6/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-rancher">备份文档</a>、<a href="/zh/v2.6/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/restore-rancher">恢复文档</a>和<a href="/zh/v2.6/reference-guides/backup-restore-configuration/examples">示例</a>。</p></li><li><p>如果 Azure 应用程序所有者想要轮换应用程序密钥，他们也需要在 Rancher 中进行轮换（因为在 Azure 中更改应用程序密钥时，Rancher 不会自动更新应用程序密钥）。在 Rancher 中，它存储在名为 <code>azureadconfig-applicationsecret</code> 的 Kubernetes 密文中，该密文位于 <code>cattle-global-data</code> 命名空间中。</p></li></ol><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>如果你使用现有的 Azure AD 设置升级到 Rancher v2.6.7+，并选择了禁用认证提供程序，你将无法恢复以前的设置。你也无法使用旧流程设置 Azure AD。你需要使用新的认证流程重新注册。由于 Rancher 现在使用 Graph API，因此用户需要<a href="#3-%E8%AE%BE%E7%BD%AE-rancher-%E6%89%80%E9%9C%80%E7%9A%84%E6%9D%83%E9%99%90">在 Azure 门户中设置适当的权限</a>。</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="global">Global:<a href="#global" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><table><thead><tr><th>Rancher 字段</th><th>已弃用的端点</th></tr></thead><tbody><tr><td>Auth 端点</td><td><a href="https://login.microsoftonline.com/%7BtenantID%7D/oauth2/authorize" target="_blank" rel="noopener noreferrer">https://login.microsoftonline.com/{tenantID}/oauth2/authorize</a></td></tr><tr><td>端点</td><td><a href="https://login.microsoftonline.com/" target="_blank" rel="noopener noreferrer">https://login.microsoftonline.com/</a></td></tr><tr><td>Graph 端点</td><td><a href="https://graph.windows.net/" target="_blank" rel="noopener noreferrer">https://graph.windows.net/</a></td></tr><tr><td>Token 端点</td><td><a href="https://login.microsoftonline.com/%7BtenantID%7D/oauth2/token" target="_blank" rel="noopener noreferrer">https://login.microsoftonline.com/{tenantID}/oauth2/token</a></td></tr></tbody></table><table><thead><tr><th>Rancher 字段</th><th>新端点</th></tr></thead><tbody><tr><td>Auth 端点</td><td><a href="https://login.microsoftonline.com/%7BtenantID%7D/oauth2/v2.0/authorize" target="_blank" rel="noopener noreferrer">https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/authorize</a></td></tr><tr><td>端点</td><td><a href="https://login.microsoftonline.com/" target="_blank" rel="noopener noreferrer">https://login.microsoftonline.com/</a></td></tr><tr><td>Graph 端点</td><td><a href="https://graph.microsoft.com" target="_blank" rel="noopener noreferrer">https://graph.microsoft.com</a></td></tr><tr><td>Token 端点</td><td><a href="https://login.microsoftonline.com/%7BtenantID%7D/oauth2/v2.0/token" target="_blank" rel="noopener noreferrer">https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/token</a></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="中国">中国：<a href="#中国" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h4><table><thead><tr><th>Rancher 字段</th><th>已弃用的端点</th></tr></thead><tbody><tr><td>Auth 端点</td><td><a href="https://login.chinacloudapi.cn/%7BtenantID%7D/oauth2/authorize" target="_blank" rel="noopener noreferrer">https://login.chinacloudapi.cn/{tenantID}/oauth2/authorize</a></td></tr><tr><td>端点</td><td><a href="https://login.chinacloudapi.cn/" target="_blank" rel="noopener noreferrer">https://login.chinacloudapi.cn/</a></td></tr><tr><td>Graph 端点</td><td><a href="https://graph.chinacloudapi.cn/" target="_blank" rel="noopener noreferrer">https://graph.chinacloudapi.cn/</a></td></tr><tr><td>Token 端点</td><td><a href="https://login.chinacloudapi.cn/%7BtenantID%7D/oauth2/token" target="_blank" rel="noopener noreferrer">https://login.chinacloudapi.cn/{tenantID}/oauth2/token</a></td></tr></tbody></table><table><thead><tr><th>Rancher 字段</th><th>新端点</th></tr></thead><tbody><tr><td>Auth 端点</td><td><a href="https://login.partner.microsoftonline.cn/%7BtenantID%7D/oauth2/v2.0/authorize" target="_blank" rel="noopener noreferrer">https://login.partner.microsoftonline.cn/{tenantID}/oauth2/v2.0/authorize</a></td></tr><tr><td>端点</td><td><a href="https://login.partner.microsoftonline.cn/" target="_blank" rel="noopener noreferrer">https://login.partner.microsoftonline.cn/</a></td></tr><tr><td>Graph 端点</td><td><a href="https://microsoftgraph.chinacloudapi.cn" target="_blank" rel="noopener noreferrer">https://microsoftgraph.chinacloudapi.cn</a></td></tr><tr><td>Token 端点</td><td><a href="https://login.partner.microsoftonline.cn/%7BtenantID%7D/oauth2/v2.0/token" target="_blank" rel="noopener noreferrer">https://login.partner.microsoftonline.cn/{tenantID}/oauth2/v2.0/token</a></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h2 class="anchor anchorWithStickyNavbar_LWe7" id="已弃用的-azure-ad-graph-api">已弃用的 Azure AD Graph API<a href="#已弃用的-azure-ad-graph-api" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><blockquote><p><strong>重要提示</strong>：</p><ul><li><a href="https://docs.microsoft.com/en-us/graph/migrate-azure-ad-graph-overview" target="_blank" rel="noopener noreferrer">Azure AD Graph API</a> 已被弃用，Microsoft 将在 2023 年 6 月 30 日后随时停用它且不会另行通知。我们将更新我们的文档，以便在停用时向社区提供建议。Rancher 现在使用 <a href="https://docs.microsoft.com/en-us/graph/use-the-api" target="_blank" rel="noopener noreferrer">Microsoft Graph API</a> 来将 Azure AD 设置为外部身份验证提供程序。</li></ul><ul><li>如果你是新用户或希望进行迁移，请参阅新的流程说明： <a href="#microsoft-graph-api/" target="_blank">Rancher v2.6.7+</a>。</li></ul><ul><li>如果你不想在 Azure AD Graph API 停用后升级到 v2.6.7+，你需要：<ul><li>使用内置的 Rancher 身份认证，或者</li><li>使用另一个第三方身份认证系统并在 Rancher 中进行设置。请参阅<a href="/zh/v2.6/pages-for-subheaders/authentication-config.md">身份验证文档</a>，了解如何配置其他开放式身份验证提供程序。</li></ul></li></ul></blockquote></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-azure-ad.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2023-06-15T10:22:14.000Z">2023年6月15日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-freeipa"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">配置 FreeIPA</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/authentication-config/configure-github"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">配置 GitHub</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#microsoft-graph-api" class="table-of-contents__link toc-highlight">Microsoft Graph API</a><ul><li><a href="#新用户设置" class="table-of-contents__link toc-highlight">新用户设置</a></li><li><a href="#从-azure-ad-graph-api-迁移到-microsoft-graph-api" class="table-of-contents__link toc-highlight">从 Azure AD Graph API 迁移到 Microsoft Graph API</a></li></ul></li><li><a href="#已弃用的-azure-ad-graph-api" class="table-of-contents__link toc-highlight">已弃用的 Azure AD Graph API</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.d617563d.js"></script>
<script src="/zh/assets/js/main.fd53caf0.js"></script>
</body>
</html>