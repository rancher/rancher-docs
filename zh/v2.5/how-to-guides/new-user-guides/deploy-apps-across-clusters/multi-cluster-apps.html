<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.5 plugin-docs plugin-id-default docs-doc-id-how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Multi-cluster Apps | Rancher</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ranchermanager.docs.rancher.com/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="2.5"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.5"><meta data-rh="true" name="docsearch:version" content="2.5"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.5"><meta data-rh="true" property="og:title" content="Multi-cluster Apps | Rancher"><meta data-rh="true" name="description" content="As of Rancher v2.5, we now recommend using Fleet for deploying apps across clusters."><meta data-rh="true" property="og:description" content="As of Rancher v2.5, we now recommend using Fleet for deploying apps across clusters."><link data-rh="true" rel="icon" href="/zh/img/favicon.png"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps" hreflang="en"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link data-rh="true" rel="canonical" href="https://ranchermanager.docs.rancher.com/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Rancher" href="/zh/opensearch.xml">



<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="0f98beb0-fc4c-417d-a42e-564e2cae42d2" async></script>
<script src="/scripts/optanonwrapper.js" async></script><link rel="stylesheet" href="/zh/assets/css/styles.30c9cd28.css">
<link rel="preload" href="/zh/assets/js/runtime~main.a96e8fbb.js" as="script">
<link rel="preload" href="/zh/assets/js/main.e93ac6be.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/zh/v2.5">v2.5</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/">Latest</a></li><li><a class="dropdown__link" href="/zh/v2.8">v2.8</a></li><li><a class="dropdown__link" href="/zh/v2.7">v2.7</a></li><li><a class="dropdown__link" href="/zh/v2.6/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps">v2.6</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps">v2.5</a></li><li><a class="dropdown__link" href="/zh/v2.0-v2.4">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/zh/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Links</a><ul class="dropdown__menu"><li><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/rancher/rancher-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://elemental.docs.rancher.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__elemental">Elemental<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher__desktop">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/v2.5">Rancher 2.5</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/v2.5/getting-started">Getting Started</a><button aria-label="打开/收起侧边栏菜单「Getting Started」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/zh/v2.5/how-to-guides">How-to Guides</a><button aria-label="打开/收起侧边栏菜单「How-to Guides」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides">New User Guides</a><button aria-label="打开/收起侧边栏菜单「New User Guides」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/kubernetes-cluster-setup">Setting up a Kubernetes Cluster for Rancher Server</a><button aria-label="打开/收起侧边栏菜单「Setting up a Kubernetes Cluster for Rancher Server」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/infrastructure-setup">Infrastructure Setup</a><button aria-label="打开/收起侧边栏菜单「Infrastructure Setup」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/kubernetes-clusters-in-rancher-setup">Kubernetes Clusters in Rancher Setup</a><button aria-label="打开/收起侧边栏菜单「Kubernetes Clusters in Rancher Setup」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/kubernetes-resources-setup">Kubernetes Resources Setup</a><button aria-label="打开/收起侧边栏菜单「Kubernetes Resources Setup」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/helm-charts-in-rancher">Helm Charts and Apps</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters">Deploying Apps Across Clusters</a><button aria-label="打开/收起侧边栏菜单「Deploying Apps Across Clusters」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/fleet">Fleet - GitOps at Scale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps">Multi-cluster Apps</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery">Backup, Restore, and Disaster Recovery</a><button aria-label="打开/收起侧边栏菜单「Backup, Restore, and Disaster Recovery」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/v2.5/how-to-guides/advanced-user-guides">Advanced User Guides</a><button aria-label="打开/收起侧边栏菜单「Advanced User Guides」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/v2.5/reference-guides">Reference Guides</a><button aria-label="打开/收起侧边栏菜单「Reference Guides」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/v2.5/explanations">Explanations</a><button aria-label="打开/收起侧边栏菜单「Explanations」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/v2.5/faq">FAQ</a><button aria-label="打开/收起侧边栏菜单「FAQ」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/v2.5/troubleshooting">Troubleshooting</a><button aria-label="打开/收起侧边栏菜单「Troubleshooting」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/v2.5/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>此为 <!-- -->Rancher<!-- --> <b>v2.5</b> 版的文档，现已不再积极维护。</div><div class="margin-top--md">最新的文档请参阅<b><a href="/zh/">最新版本</a></b> (<!-- -->Latest<!-- -->)。</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/v2.5/how-to-guides"><span itemprop="name">How-to Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/v2.5/how-to-guides/new-user-guides"><span itemprop="name">New User Guides</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters"><span itemprop="name">Deploying Apps Across Clusters</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Multi-cluster Apps</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：v2.5</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Multi-cluster Apps</h1></header><blockquote><p>As of Rancher v2.5, we now recommend using <a href="/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/fleet">Fleet</a> for deploying apps across clusters.</p></blockquote><p>Typically, most applications are deployed on a single Kubernetes cluster, but there will be times you might want to deploy multiple copies of the same application across different clusters and/or projects. In Rancher, a <em>multi-cluster application</em>,  is an application deployed using a Helm chart across multiple clusters. With the ability to deploy the same application across multiple clusters, it avoids the repetition of the same action on each cluster, which could introduce user error during application configuration. With multi-cluster applications, you can customize to have the same configuration across all projects/clusters as well as have the ability to change the configuration based on your target project. Since multi-cluster application is considered a single application, it&#x27;s easy to manage and maintain this application.</p><p>Any Helm charts from a global catalog can be used to deploy and manage multi-cluster applications.</p><p>After creating a multi-cluster application, you can program a global DNS entry to make it easier to access the application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>To create a multi-cluster app in Rancher, you must have at least one of the following permissions:</p><ul><li>A <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#project-roles">project-member role</a> in the target cluster(s), which gives you the ability to create, read, update, and delete the workloads</li><li>A <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#cluster-roles">cluster owner role</a> for the clusters(s) that include the target project(s)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="launching-a-multi-cluster-app">Launching a Multi-Cluster App<a href="#launching-a-multi-cluster-app" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><ol><li><p>From the <strong>Global</strong> view, choose <strong>Apps</strong> in the navigation bar. Click <strong>Launch</strong>.</p></li><li><p>Find the application that you want to launch, and then click <strong>View Details</strong>.</p></li><li><p>(Optional) Review the detailed descriptions, which are derived from the Helm chart&#x27;s <code>README</code>.</p></li><li><p>Under <strong>Configuration Options</strong> enter a <strong>Name</strong> for the multi-cluster application. By default, this name is also used to create a Kubernetes namespace in each <a href="#targets">target project</a> for the multi-cluster application. The namespace is named as <code>&lt;MULTI-CLUSTER_APPLICATION_NAME&gt;-&lt;PROJECT_ID&gt;</code>.</p></li><li><p>Select a <strong>Template Version</strong>.</p></li><li><p>Complete the <a href="#multi-cluster-app-configuration-options">multi-cluster applications specific configuration options</a> as well as the <a href="#application-configuration-options">application configuration options</a>.</p></li><li><p>Select the <strong>Members</strong> who can <a href="#members">interact with the multi-cluster application</a>.</p></li><li><p>Add any <a href="#overriding-application-configuration-options-for-specific-projects">custom application configuration answers</a> that would change the configuration for specific project(s) from the default application configuration answers.</p></li><li><p>Review the files in the <strong>Preview</strong> section. When you&#x27;re satisfied, click <strong>Launch</strong>.</p></li></ol><p><strong>Result</strong>: Your application is deployed to your chosen namespace. You can view the application status from the project&#x27;s:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-cluster-app-configuration-options">Multi-cluster App Configuration Options<a href="#multi-cluster-app-configuration-options" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Rancher has divided the configuration option for the multi-cluster application into several sections.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="targets">Targets<a href="#targets" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>In the <strong>Targets</strong> section, select the projects that you want the application to be deployed in. The list of projects is based on what projects you have access to. For each project that you select, it will be added to the list, which shows the cluster name and project name that were selected. To remove a target project, click on <strong>-</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrades">Upgrades<a href="#upgrades" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>In the <strong>Upgrades</strong> section, select the upgrade strategy to use, when you decide to upgrade your application.</p><ul><li><p><strong>Rolling Update (batched):</strong> When selecting this upgrade strategy, the number of applications upgraded at a time is based on the selected <strong>Batch size</strong> and the <strong>Interval</strong> specifies how many seconds to wait before starting the next batch of updates.</p></li><li><p><strong>Upgrade all apps simultaneously:</strong> When selecting this upgrade strategy, all applications across all projects will be upgraded at the same time.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="roles">Roles<a href="#roles" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>In the <strong>Roles</strong> section, you define the role of the multi-cluster application. Typically, when a user <a href="/zh/v2.5/how-to-guides/new-user-guides/helm-charts-in-rancher">launches catalog applications</a>, that specific user&#x27;s permissions are used for creation of all workloads/resources that is required by the app.</p><p>For multi-cluster applications, the application is deployed by a <em>system user</em> and is assigned as the creator of all underlying resources. A <em>system user</em> is used instead of the actual user due to the fact that the actual user could be removed from one of the target projects. If the actual user was removed from one of the projects, then that user would no longer be able to manage the application for the other projects.</p><p>Rancher will let you select from two options for Roles, <strong>Project</strong> and <strong>Cluster</strong>. Rancher will allow creation using any of these roles based on the user&#x27;s permissions.</p><ul><li><p><strong>Project</strong> - This is the equivalent of a <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#project-roles">project member</a>. If you select this role, Rancher will check that in all the target projects, the user has minimally the <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#project-roles">project member</a> role. While the user might not be explicitly granted the <em>project member</em> role, if the user is an <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/global-permissions">administrator</a>, a <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#cluster-roles">cluster owner</a>, or a <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#project-roles">project owner</a>, then the user is considered to have the appropriate level of permissions.</p></li><li><p><strong>Cluster</strong> - This is the equivalent of a <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#cluster-roles">cluster owner</a>. If you select this role, Rancher will check that in all the target projects, the user has minimally the <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#project-roles">cluster owner</a> role. While the user might not be explicitly granted the <em>cluster owner</em> role, if the user is an <a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/global-permissions">administrator</a>, then the user is considered to have the appropriate level of permissions.</p></li></ul><p>When launching the application, Rancher will confirm if you have these permissions in the target projects before launching the application.</p><blockquote><p><strong>Note:</strong> There are some applications like <em>Grafana</em> or <em>Datadog</em> that require access to specific cluster-scoped resources. These applications will require the <em>Cluster</em> role. If you find out later that the application requires cluster roles, the multi-cluster application can be upgraded to update the roles.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="application-configuration-options">Application Configuration Options<a href="#application-configuration-options" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>For each Helm chart, there are a list of desired answers that must be entered in order to successfully deploy the chart. When entering answers, you must format them using the syntax rules found in <a href="https://helm.sh/docs/intro/using_helm/#the-format-and-limitations-of---set" target="_blank" rel="noopener noreferrer">Using Helm: The format and limitations of –set</a>, as Rancher passes them as <code>--set</code> flags to Helm.</p><blockquote><p>For example, when entering an answer that includes two values separated by a comma (i.e. <code>abc, bcd</code>), it is required to wrap the values with double quotes (i.e., <code>&quot;abc, bcd&quot;</code>).</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-a-questionsyml-file">Using a questions.yml file<a href="#using-a-questionsyml-file" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>If the Helm chart that you are deploying contains a <code>questions.yml</code> file, Rancher&#x27;s UI will translate this file to display an easy to use UI to collect the answers for the questions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-value-pairs-for-native-helm-charts">Key Value Pairs for Native Helm Charts<a href="#key-value-pairs-for-native-helm-charts" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>For native Helm charts (i.e., charts from the <strong>Helm Stable</strong> or <strong>Helm Incubator</strong> catalogs or a custom Helm chart repository, answers are provided as key value pairs in the <strong>Answers</strong> section. These answers are used to override the default values.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="members">Members<a href="#members" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>By default, multi-cluster applications can only be managed by the user who created it. In the <strong>Members</strong> section, other users can be added so that they can also help manage or view the multi-cluster application.</p><ol><li><p>Find the user that you want to add by typing in the member&#x27;s name in the <strong>Member</strong> search box.</p></li><li><p>Select the <strong>Access Type</strong> for that member. There are three access types for a multi-cluster project, but due to how the permissions of a multi-cluster application are launched, please read carefully to understand what these access types mean.</p><ul><li><p><strong>Owner</strong>: This access type can manage any configuration part of the multi-cluster application including the template version, the <!-- -->[multi-cluster applications specific configuration options]<!-- -->(#Multi-cluster App Configuration Options), the <a href="#application-configuration-options">application specific configuration options</a>, the members who can interact with the multi-cluster application and the <a href="#overriding-application-configuration-options-for-specific-projects">custom application configuration answers</a>. Since a multi-cluster application is created with a different set of permissions from the user, any <em>owner</em> of the multi-cluster application can manage/remove applications in <a href="#targets">target projects</a> without explicitly having access to these project(s). Only trusted users should be provided with this access type.</p></li><li><p><strong>Member</strong>: This access type can only modify the template version, the <a href="#application-configuration-options">application specific configuration options</a> and the <a href="#overriding-application-configuration-options-for-specific-projects">custom application configuration answers</a>. Since a multi-cluster application is created with a different set of permissions from the user, any <em>member</em> of the multi-cluster application can modify the application without explicitly having access to these project(s). Only trusted users should be provided with this access type.</p></li><li><p><strong>Read-only</strong>: This access type cannot modify any configuration option for the multi-cluster application. Users can only view these applications.</p></li></ul><blockquote><p><strong>Note:</strong>  Please ensure only trusted users are given <em>Owner</em> or <em>Member</em> access as they will automatically be able to manage applications created for this multi-cluster application in target projects they might not have direct access to.</p></blockquote></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overriding-application-configuration-options-for-specific-projects">Overriding Application Configuration Options for Specific Projects<a href="#overriding-application-configuration-options-for-specific-projects" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>The ability to use the same configuration to deploy the same application across multiple clusters/projects is one of the main benefits of multi-cluster applications. There might be a specific project that requires a slightly different configuration option, but you want to manage that application with all the other matching applications. Instead of creating a brand new application, you can override specific <a href="#application-configuration-options">application specific configuration options</a> for specific projects.</p><ol><li><p>In the <strong>Answer Overrides</strong> section, click <strong>Add Override</strong>.</p></li><li><p>For each override, you can select the following:</p><ul><li><p><strong>Scope</strong>: Select which target projects you want to override the answer in the configuration option.</p></li><li><p><strong>Question</strong>: Select which question you want to override.</p></li><li><p><strong>Answer</strong>: Enter the answer that you want to be used instead.</p></li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-multi-cluster-app-roles-and-projects">Upgrading Multi-Cluster App Roles and Projects<a href="#upgrading-multi-cluster-app-roles-and-projects" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><ul><li><p><strong>Changing Roles on an existing Multi-Cluster app</strong>
The creator and any users added with the access-type &quot;owner&quot; to a multi-cluster app, can upgrade its Roles. When adding a new Role, we check if the user has that exact role in all current target projects. These checks allow the same relaxations for global admins, cluster owners and project-owners as described in the installation section for the field <code>Roles</code>.</p></li><li><p><strong>Adding/Removing target projects</strong></p></li></ul><ol><li>The creator and any users added with access-type &quot;owner&quot; to a multi-cluster app, can add or remove its target projects. When adding a new project, we check if the caller of this request has all Roles defined on multi-cluster app, in the new projects they want to add. The roles checks are again relaxed for global admins, cluster-owners and project-owners.</li><li>We do not do these membership checks when removing target projects. This is because the caller&#x27;s permissions could have with respect to the target project, or the project could have been deleted and hence the caller wants to remove it from targets list.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multi-cluster-application-management">Multi-Cluster Application Management<a href="#multi-cluster-application-management" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>One of the benefits of using a multi-cluster application as opposed to multiple individual applications of the same type, is the ease of management. Multi-cluster applications can be cloned, upgraded or rolled back.</p><ol><li><p>From the <strong>Global</strong> view, choose <strong>Apps</strong> in the navigation bar.</p></li><li><p>Choose the multi-cluster application you want to take one of these actions on and click the <strong>⋮</strong>. Select one of the following options:</p><ul><li><strong>Clone</strong>: Creates another multi-cluster application with the same configuration. By using this option, you can easily duplicate a multi-cluster application.</li><li><strong>Upgrade</strong>: Upgrade your multi-cluster application to change some part of the configuration. When performing an upgrade for multi-cluster application, the <a href="#upgrades">upgrade strategy</a> can be modified if you have the correct <a href="#members">access type</a>.</li><li><strong>Rollback</strong>: Rollback your application to a specific version. If after an upgrade, there are issues for your multi-cluster application for one or more of your <a href="#targets">targets</a>, Rancher has stored up to 10 versions of the multi-cluster application. Rolling back a multi-cluster application reverts the application for <strong>all</strong> target clusters and projects, not just the targets(s) affected by the upgrade issue.</li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deleting-a-multi-cluster-application">Deleting a Multi-Cluster Application<a href="#deleting-a-multi-cluster-application" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><ol><li><p>From the <strong>Global</strong> view, choose <strong>Apps</strong> in the navigation bar.</p></li><li><p>Choose the multi-cluster application you want to delete and click the <strong>⋮<!-- --> &gt; Delete</strong>. When deleting the multi-cluster application, all applications and namespaces are deleted in all of the target projects.</p><blockquote><p><strong>Note:</strong> The applications in the target projects, that are created for a multi-cluster application, cannot be deleted individually. The applications can only be deleted when the multi-cluster application is deleted.</p></blockquote></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2024-01-12T00:36:20.000Z">2024年1月12日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/fleet"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Fleet - GitOps at Scale</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Backup, Restore, and Disaster Recovery</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#launching-a-multi-cluster-app" class="table-of-contents__link toc-highlight">Launching a Multi-Cluster App</a></li><li><a href="#multi-cluster-app-configuration-options" class="table-of-contents__link toc-highlight">Multi-cluster App Configuration Options</a><ul><li><a href="#targets" class="table-of-contents__link toc-highlight">Targets</a></li><li><a href="#upgrades" class="table-of-contents__link toc-highlight">Upgrades</a></li><li><a href="#roles" class="table-of-contents__link toc-highlight">Roles</a></li></ul></li><li><a href="#application-configuration-options" class="table-of-contents__link toc-highlight">Application Configuration Options</a><ul><li><a href="#using-a-questionsyml-file" class="table-of-contents__link toc-highlight">Using a questions.yml file</a></li><li><a href="#key-value-pairs-for-native-helm-charts" class="table-of-contents__link toc-highlight">Key Value Pairs for Native Helm Charts</a></li><li><a href="#members" class="table-of-contents__link toc-highlight">Members</a></li><li><a href="#overriding-application-configuration-options-for-specific-projects" class="table-of-contents__link toc-highlight">Overriding Application Configuration Options for Specific Projects</a></li></ul></li><li><a href="#upgrading-multi-cluster-app-roles-and-projects" class="table-of-contents__link toc-highlight">Upgrading Multi-Cluster App Roles and Projects</a></li><li><a href="#multi-cluster-application-management" class="table-of-contents__link toc-highlight">Multi-Cluster Application Management</a></li><li><a href="#deleting-a-multi-cluster-application" class="table-of-contents__link toc-highlight">Deleting a Multi-Cluster Application</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.a96e8fbb.js"></script>
<script src="/zh/assets/js/main.e93ac6be.js"></script>
</body>
</html>