<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.6 plugin-docs plugin-id-default docs-doc-id-reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">AKS Cluster Configuration Reference | Rancher</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ranchermanager.docs.rancher.com/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.6"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.6"><meta data-rh="true" name="docsearch:version" content="2.6"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.6"><meta data-rh="true" property="og:title" content="AKS Cluster Configuration Reference | Rancher"><meta data-rh="true" name="description" content="Changes in Rancher v2.6"><meta data-rh="true" property="og:description" content="Changes in Rancher v2.6"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/zh/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link data-rh="true" rel="canonical" href="https://ranchermanager.docs.rancher.com/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Rancher" href="/opensearch.xml">



<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="0f98beb0-fc4c-417d-a42e-564e2cae42d2" async></script>
<script src="/scripts/optanonwrapper.js" async></script><link rel="stylesheet" href="/assets/css/styles.cd075367.css">
<link rel="preload" href="/assets/js/runtime~main.f131fc6a.js" as="script">
<link rel="preload" href="/assets/js/main.c2182cb5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v2.6">v2.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration">Latest</a></li><li><a class="dropdown__link" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration">v2.8</a></li><li><a class="dropdown__link" href="/v2.7/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration">v2.7</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration">v2.6</a></li><li><a class="dropdown__link" href="/v2.5">v2.5</a></li><li><a class="dropdown__link" href="/v2.0-v2.4">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">简体中文</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Links</a><ul class="dropdown__menu"><li><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/rancher/rancher-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://elemental.docs.rancher.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__elemental">Elemental<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher__desktop">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.6">What is Rancher?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.6/getting-started/overview">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.6/how-to-guides/new-user-guides">How-to Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/v2.6/reference-guides/best-practices">Reference Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/best-practices">Best Practices</a><button aria-label="Toggle the collapsible sidebar category &#x27;Best Practices&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/rancher-manager-architecture">Rancher Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.6/reference-guides/cluster-configuration">Cluster Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cluster Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration">Rancher Server Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Server Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration">RKE Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration">RKE2 Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/k3s-cluster-configuration">K3s Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/eks-cluster-configuration">EKS Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration">AKS Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/gke-cluster-configuration">GKE Cluster Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;GKE Cluster Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/use-existing-nodes">Use Existing Nodes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use Existing Nodes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/sync-clusters">Syncing Hosted Clusters</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/cluster-configuration/downstream-cluster-configuration">Downstream Cluster Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Downstream Cluster Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/single-node-rancher-in-docker">Single-Node Rancher in Docker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Single-Node Rancher in Docker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/backup-restore-configuration">Backup &amp; Restore Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backup &amp; Restore Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/kubernetes-concepts">Kubernetes Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/monitoring-v2-configuration">Monitoring V2 Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monitoring V2 Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/prometheus-federator">Prometheus Federator</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prometheus Federator&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/user-settings">User Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/cli-with-rancher">CLI with Rancher</a><button aria-label="Toggle the collapsible sidebar category &#x27;CLI with Rancher&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/about-the-api">About the API</a><button aria-label="Toggle the collapsible sidebar category &#x27;About the API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/rancher-cluster-tools">Cluster Tools for Logging, Monitoring, and Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/rancher-project-tools">Project Tools for Logging, Monitoring, and Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/system-tools">System Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.6/reference-guides/rke1-template-example-yaml">RKE1 Example YAML</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/pipelines">Pipelines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipelines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.6/reference-guides/rancher-security">Rancher Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.6/integrations-in-rancher/cloud-marketplace">Integrations in Rancher</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.6/faq/general-faq">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.6/troubleshooting/general-troubleshooting">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.6/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.6/reference-guides/cluster-configuration"><span itemprop="name">Cluster Configuration</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration"><span itemprop="name">Rancher Server Configuration</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">AKS Cluster Configuration Reference</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AKS Cluster Configuration Reference</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="changes-in-rancher-v26">Changes in Rancher v2.6<a href="#changes-in-rancher-v26" class="hash-link" aria-label="Direct link to Changes in Rancher v2.6" title="Direct link to Changes in Rancher v2.6">​</a></h2><ul><li>Support for adding more than one node pool</li><li>Support for private clusters</li><li>Enabled autoscaling node pools</li><li>The AKS permissions are now configured in cloud credentials</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="role-based-access-control">Role-based Access Control<a href="#role-based-access-control" class="hash-link" aria-label="Direct link to Role-based Access Control" title="Direct link to Role-based Access Control">​</a></h2><p>When provisioning an AKS cluster in the Rancher UI, RBAC cannot be disabled. If role-based access control is disabled for the cluster in AKS, the cluster cannot be registered or imported into Rancher.</p><p>Rancher can configure member roles for AKS clusters in the same way as any other cluster. For more information, see the section on <a href="/v2.6/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac">role-based access control.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-credentials">Cloud Credentials<a href="#cloud-credentials" class="hash-link" aria-label="Direct link to Cloud Credentials" title="Direct link to Cloud Credentials">​</a></h2><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The configuration information in this section assumes you have already set up a service principal for Rancher. For step-by-step instructions for how to set up the service principal, see <a href="/v2.6/how-to-guides/new-user-guides/kubernetes-clusters-in-rancher-setup/set-up-clusters-from-hosted-kubernetes-providers/aks#prerequisites-in-microsoft-azure">this section.</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="subscription-id">Subscription ID<a href="#subscription-id" class="hash-link" aria-label="Direct link to Subscription ID" title="Direct link to Subscription ID">​</a></h3><p>To get the subscription ID, click <strong>All Services</strong> in the left navigation bar. Then click <strong>Subscriptions</strong>. Go to the name of the subscription that you want to associate with your Kubernetes cluster and copy the <strong>Subscription ID</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-id">Client ID<a href="#client-id" class="hash-link" aria-label="Direct link to Client ID" title="Direct link to Client ID">​</a></h3><p>To get the client ID, go to the Azure Portal, then click <strong>Azure Active Directory</strong>, then click <strong>App registrations,</strong> then click the name of the service principal. The client ID is listed on the app registration detail page as <strong>Application (client) ID</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-secret">Client Secret<a href="#client-secret" class="hash-link" aria-label="Direct link to Client Secret" title="Direct link to Client Secret">​</a></h3><p>You can&#x27;t retrieve the client secret value after it is created, so if you don&#x27;t already have a client secret value, you will need to create a new client secret.</p><p>To get a new client secret, go to the Azure Portal, then click <strong>Azure Active Directory</strong>, then click <strong>App registrations,</strong> then click the name of the service principal.</p><p>Then click <strong>Certificates &amp; secrets</strong> and click <strong>New client secret</strong>. Click <strong>Add</strong>. Then copy the <strong>Value</strong> of the new client secret.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a href="#environment" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment">​</a></h3><p>Microsoft provides multiple <a href="https://docs.microsoft.com/en-us/cli/azure/cloud?view=azure-cli-latest" target="_blank" rel="noopener noreferrer">clouds</a> for compliance with regional laws, which are available for your use:</p><ul><li>AzurePublicCloud</li><li>AzureGermanCloud</li><li>AzureChinaCloud</li><li>AzureUSGovernmentCloud</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="account-access">Account Access<a href="#account-access" class="hash-link" aria-label="Direct link to Account Access" title="Direct link to Account Access">​</a></h2><p>In this section you will need to select an existing Azure cloud credential or create a new one.</p><p>For help configuring your Azure cloud credential, see <a href="#cloud-credentials">this section.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-location">Cluster Location<a href="#cluster-location" class="hash-link" aria-label="Direct link to Cluster Location" title="Direct link to Cluster Location">​</a></h2><p>Configure the cluster and node location. For more information on availability zones for AKS, see the <a href="https://docs.microsoft.com/en-us/azure/aks/availability-zones" target="_blank" rel="noopener noreferrer">AKS documentation.</a></p><p>The high availability locations include multiple availability zones.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-options">Cluster Options<a href="#cluster-options" class="hash-link" aria-label="Direct link to Cluster Options" title="Direct link to Cluster Options">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-version">Kubernetes Version<a href="#kubernetes-version" class="hash-link" aria-label="Direct link to Kubernetes Version" title="Direct link to Kubernetes Version">​</a></h3><p>The available Kubernetes versions are dynamically fetched from the Azure API.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-resource-group">Cluster Resource Group<a href="#cluster-resource-group" class="hash-link" aria-label="Direct link to Cluster Resource Group" title="Direct link to Cluster Resource Group">​</a></h3><p>A resource group is a container that holds related resources for an Azure solution. The resource group can include all the resources for the solution, or only those resources that you want to manage as a group. You decide how you want to allocate resources to resource groups based on what makes the most sense for your organization. Generally, add resources that share the same lifecycle to the same resource group so you can easily deploy, update, and delete them as a group.</p><p>Use an existing resource group or enter a resource group name and one will be created for you.</p><p>Using a resource group containing an existing AKS cluster will create a new resource group. Azure AKS only allows one AKS cluster per resource group.</p><p>For information on managing resource groups, see the <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-portal" target="_blank" rel="noopener noreferrer">Azure documentation.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="linux-admin-username">Linux Admin Username<a href="#linux-admin-username" class="hash-link" aria-label="Direct link to Linux Admin Username" title="Direct link to Linux Admin Username">​</a></h3><p>The username used to create an SSH connection to the Linux nodes.</p><p>The default username for AKS nodes is <code>azureuser</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssh-public-key">SSH Public Key<a href="#ssh-public-key" class="hash-link" aria-label="Direct link to SSH Public Key" title="Direct link to SSH Public Key">​</a></h3><p>The key used to create an SSH connection to the Linux nodes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tags">Tags<a href="#tags" class="hash-link" aria-label="Direct link to Tags" title="Direct link to Tags">​</a></h3><p>Cluster tags can be useful if your organization uses tags as a way to organize resources across multiple Azure services. These tags don&#x27;t apply to resources within the cluster.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="networking-options">Networking Options<a href="#networking-options" class="hash-link" aria-label="Direct link to Networking Options" title="Direct link to Networking Options">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="loadbalancer-sku">LoadBalancer SKU<a href="#loadbalancer-sku" class="hash-link" aria-label="Direct link to LoadBalancer SKU" title="Direct link to LoadBalancer SKU">​</a></h3><p>Azure load balancers support both standard and basic SKUs (stock keeping units).</p><p>For a comparison of standard and basic load balancers, see the official <a href="https://docs.microsoft.com/en-us/azure/load-balancer/skus#skus" target="_blank" rel="noopener noreferrer">Azure documentation.</a> Microsoft recommends the Standard load balancer.</p><p>The Standard load balancer is required if you have selected one or more availability zones, or if you have more than one node pool.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-policy">Network Policy<a href="#network-policy" class="hash-link" aria-label="Direct link to Network Policy" title="Direct link to Network Policy">​</a></h3><p>All pods in an AKS cluster can send and receive traffic without limitations, by default. To improve security, you can define rules that control the flow of traffic. The Network Policy feature in Kubernetes lets you define rules for ingress and egress traffic between pods in a cluster.</p><p>Azure provides two ways to implement network policy. You choose a network policy option when you create an AKS cluster. The policy option can&#x27;t be changed after the cluster is created:</p><ul><li>Azure&#x27;s own implementation, called Azure Network Policies. The Azure network policy requires the Azure CNI.</li><li>Calico Network Policies, an open-source network and network security solution founded by <a href="https://www.tigera.io/" target="_blank" rel="noopener noreferrer">Tigera</a>.</li></ul><p>You can also choose to have no network policy.</p><p>For more information about the differences between Azure and Calico network policies and their capabilities, see the <a href="https://docs.microsoft.com/en-us/azure/aks/use-network-policies#differences-between-azure-and-calico-policies-and-their-capabilities" target="_blank" rel="noopener noreferrer">AKS documentation.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dns-prefix">DNS Prefix<a href="#dns-prefix" class="hash-link" aria-label="Direct link to DNS Prefix" title="Direct link to DNS Prefix">​</a></h3><p>Enter a unique DNS prefix for your cluster&#x27;s Kubernetes API server FQDN.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-plugin">Network Plugin<a href="#network-plugin" class="hash-link" aria-label="Direct link to Network Plugin" title="Direct link to Network Plugin">​</a></h3><p>There are two network plugins: kubenet and Azure CNI.</p><p>The <a href="https://kubernetes.io/docs/concepts/cluster-administration/network-plugins/#kubenet" target="_blank" rel="noopener noreferrer">kubenet</a> Kubernetes plugin is the default configuration for AKS cluster creation. When kubenet is used, each node in the cluster receives a routable IP address. The pods use NAT to communicate with other resources outside the AKS cluster. This approach reduces the number of IP addresses you need to reserve in your network space for pods to use.</p><p>With the Azure CNI (advanced) networking plugin, pods get full virtual network connectivity and can be directly reached via their private IP address from connected networks. This plugin requires more IP address space.</p><p>For more information on the differences between kubenet and Azure CNI, see the <a href="https://docs.microsoft.com/en-us/azure/aks/concepts-network#compare-network-models" target="_blank" rel="noopener noreferrer">AKS documentation.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-application-routing">HTTP Application Routing<a href="#http-application-routing" class="hash-link" aria-label="Direct link to HTTP Application Routing" title="Direct link to HTTP Application Routing">​</a></h3><p>When enabled, the HTTP application routing add-on makes it easier to access applications deployed to the AKS cluster. It deploys two components: a <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/" target="_blank" rel="noopener noreferrer">Kubernetes Ingress controller</a> and an <a href="https://github.com/kubernetes-incubator/external-dns" target="_blank" rel="noopener noreferrer">External-DNS</a> controller.</p><p>For more information, see the <a href="https://docs.microsoft.com/en-us/azure/aks/http-application-routing" target="_blank" rel="noopener noreferrer">AKS documentation.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-authorized-ip-ranges">Set Authorized IP Ranges<a href="#set-authorized-ip-ranges" class="hash-link" aria-label="Direct link to Set Authorized IP Ranges" title="Direct link to Set Authorized IP Ranges">​</a></h3><p>You can secure access to the Kubernetes API server using <a href="https://docs.microsoft.com/en-us/azure/aks/api-server-authorized-ip-ranges#overview-of-api-server-authorized-ip-ranges" target="_blank" rel="noopener noreferrer">authorized IP address ranges.</a></p><p>The Kubernetes API server exposes the Kubernetes API. This component provides the interaction for management tools, such as kubectl. AKS provides a single-tenant cluster control plane with a dedicated API server. By default, the API server is assigned a public IP address, and you should control access to it using Kubernetes-based or Azure-based RBAC.</p><p>To secure access to the otherwise publicly accessible AKS control plane and API server, you can enable and use authorized IP ranges. These authorized IP ranges only allow defined IP address ranges to communicate with the API server.</p><p>However, even if you use authorized IP address ranges, you should still use Kubernetes RBAC or Azure RBAC to authorize users and the actions they request.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="container-monitoring">Container Monitoring<a href="#container-monitoring" class="hash-link" aria-label="Direct link to Container Monitoring" title="Direct link to Container Monitoring">​</a></h3><p>Container monitoring gives you performance visibility by collecting memory and processor metrics from controllers, nodes, and containers that are available in Kubernetes through the Metrics API. Container logs are also collected. After you enable monitoring, metrics and logs are automatically collected for you through a containerized version of the Log Analytics agent for Linux. Metrics are written to the metrics store and log data is written to the logs store associated with your <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/logs/log-query-overview" target="_blank" rel="noopener noreferrer">Log Analytics</a> workspace.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-analytics-workspace-resource-group">Log Analytics Workspace Resource Group<a href="#log-analytics-workspace-resource-group" class="hash-link" aria-label="Direct link to Log Analytics Workspace Resource Group" title="Direct link to Log Analytics Workspace Resource Group">​</a></h3><p>The <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/overview#resource-groups" target="_blank" rel="noopener noreferrer">resource group</a> containing the Log Analytics Workspace. You must create at least one workspace to use Azure Monitor Logs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-analytics-workspace-name">Log Analytics Workspace Name<a href="#log-analytics-workspace-name" class="hash-link" aria-label="Direct link to Log Analytics Workspace Name" title="Direct link to Log Analytics Workspace Name">​</a></h3><p>Data collected by Azure Monitor Logs is stored in one or more <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/logs/design-logs-deployment" target="_blank" rel="noopener noreferrer">Log Analytics workspaces.</a> The workspace defines the geographic location of the data, access rights defining which users can access data, and configuration settings such as the pricing tier and data retention.</p><p>You must create at least one workspace to use Azure Monitor Logs. A single workspace may be suffxicient for all of your monitoring data, or may choose to create multiple workspaces depending on your requirements. For example, you might have one workspace for your production data and another for testing.</p><p>For more information about Azure Monitor Logs, see the <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/logs/data-platform-logs" target="_blank" rel="noopener noreferrer">Azure documentation.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="support-private-kubernetes-service">Support Private Kubernetes Service<a href="#support-private-kubernetes-service" class="hash-link" aria-label="Direct link to Support Private Kubernetes Service" title="Direct link to Support Private Kubernetes Service">​</a></h3><p>Typically, AKS worker nodes do not get public IPs, regardless of whether the cluster is private. In a private cluster, the control plane does not have a public endpoint.</p><p>Rancher can connect to a private AKS cluster in one of two ways.</p><p>The first way to ensure that Rancher is running on the same <a href="https://docs.microsoft.com/en-us/azure/virtual-network/nat-overview" target="_blank" rel="noopener noreferrer">NAT</a> as the AKS nodes.</p><p>The second way is to run a command to register the cluster with Rancher. Once the cluster is provisioned, you can run the displayed command anywhere you can connect to the cluster’s Kubernetes API. This command is displayed in a pop-up when you provision an AKS cluster with a private API endpoint enabled.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Please be aware that when registering an existing AKS cluster, the cluster might take some time, possibly hours, to appear in the <code>Cluster To register</code> dropdown list. This outcome will be based on region.</p></div></div><p>For more information about connecting to an AKS private cluster, see the <a href="https://docs.microsoft.com/en-us/azure/aks/private-clusters#options-for-connecting-to-the-private-cluster" target="_blank" rel="noopener noreferrer">AKS documentation.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="node-pools">Node Pools<a href="#node-pools" class="hash-link" aria-label="Direct link to Node Pools" title="Direct link to Node Pools">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mode">Mode<a href="#mode" class="hash-link" aria-label="Direct link to Mode" title="Direct link to Mode">​</a></h3><p>The Azure interface allows users to specify whether a Primary Node Pool relies on either <code>system</code> (normally used for control planes) or <code>user</code> (what is most typically needed for Rancher).</p><p>For Primary Node Pools, you can specify Mode, OS, Count and Size.</p><p>System node pools always require running nodes, so they cannot be scaled below one node. At least one system node pool is required.</p><p>For subsequent node pools, the Rancher UI forces the default of User. User node pools allow you to scale to zero nodes. User node pools don&#x27;t run any part of the Kubernetes controlplane.</p><p>AKS doesn&#x27;t expose the nodes that run the Kubernetes controlplane components.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="availability-zones">Availability Zones<a href="#availability-zones" class="hash-link" aria-label="Direct link to Availability Zones" title="Direct link to Availability Zones">​</a></h3><p><a href="https://docs.microsoft.com/en-us/azure/availability-zones/az-overview" target="_blank" rel="noopener noreferrer">Availability zones</a> are unique physical locations within a region. Each zone is made up of one or more data centers equipped with independent power, cooling, and networking.</p><p>Not all regions have support for availability zones. For a list of Azure regions with availability zones, see the <a href="https://docs.microsoft.com/en-us/azure/availability-zones/az-region#azure-regions-with-availability-zones" target="_blank" rel="noopener noreferrer">Azure documentation.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vm-size">VM Size<a href="#vm-size" class="hash-link" aria-label="Direct link to VM Size" title="Direct link to VM Size">​</a></h3><p>Choose a size for each VM in the node pool. For details about each VM size, see <a href="https://azure.microsoft.com/en-us/pricing/details/virtual-machines/linux/" target="_blank" rel="noopener noreferrer">this page.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="os-disk-type">OS Disk Type<a href="#os-disk-type" class="hash-link" aria-label="Direct link to OS Disk Type" title="Direct link to OS Disk Type">​</a></h3><p>The nodes in the node pool can have either managed or ephemeral disks.</p><p><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/ephemeral-os-disks" target="_blank" rel="noopener noreferrer">Ephemeral OS disks</a> are created on the local virtual machine storage and not saved to the remote Azure Storage. Ephemeral OS disks work well for stateless workloads, where applications are tolerant of individual VM failures, but are more affected by VM deployment time or reimaging the individual VM instances. With Ephemeral OS disk, you get lower read/write latency to the OS disk and faster VM reimage.</p><p><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/managed-disks-overview" target="_blank" rel="noopener noreferrer">Azure managed disks</a> are block-level storage volumes that are managed by Azure and used with Azure Virtual Machines. Managed disks are designed for 99.999% availability. Managed disks achieve this by providing you with three replicas of your data, allowing for high durability.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="os-disk-size">OS Disk Size<a href="#os-disk-size" class="hash-link" aria-label="Direct link to OS Disk Size" title="Direct link to OS Disk Size">​</a></h3><p>The size in GB for the disk for each node.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-count">Node Count<a href="#node-count" class="hash-link" aria-label="Direct link to Node Count" title="Direct link to Node Count">​</a></h3><p>The number of nodes in the node pool. The maximum number of nodes may be limited by your <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/azure-subscription-service-limits" target="_blank" rel="noopener noreferrer">Azure subscription.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="max-pods-per-node">Max Pods Per Node<a href="#max-pods-per-node" class="hash-link" aria-label="Direct link to Max Pods Per Node" title="Direct link to Max Pods Per Node">​</a></h3><p>The maximum number of pods per node defaults to 110 with a maximum of 250.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-auto-scaling">Enable Auto Scaling<a href="#enable-auto-scaling" class="hash-link" aria-label="Direct link to Enable Auto Scaling" title="Direct link to Enable Auto Scaling">​</a></h3><p>When auto scaling is enabled, you will need to enter a minimum and maximum node count.</p><p>When Auto Scaling is enabled, you can&#x27;t manually scale the node pool. The scale is controlled by the AKS autoscaler.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.6/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-11T23:39:11.000Z">Jan 11, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/eks-cluster-configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">EKS Cluster Configuration Reference</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/gke-cluster-configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GKE Cluster Configuration Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#changes-in-rancher-v26" class="table-of-contents__link toc-highlight">Changes in Rancher v2.6</a></li><li><a href="#role-based-access-control" class="table-of-contents__link toc-highlight">Role-based Access Control</a></li><li><a href="#cloud-credentials" class="table-of-contents__link toc-highlight">Cloud Credentials</a><ul><li><a href="#subscription-id" class="table-of-contents__link toc-highlight">Subscription ID</a></li><li><a href="#client-id" class="table-of-contents__link toc-highlight">Client ID</a></li><li><a href="#client-secret" class="table-of-contents__link toc-highlight">Client Secret</a></li><li><a href="#environment" class="table-of-contents__link toc-highlight">Environment</a></li></ul></li><li><a href="#account-access" class="table-of-contents__link toc-highlight">Account Access</a></li><li><a href="#cluster-location" class="table-of-contents__link toc-highlight">Cluster Location</a></li><li><a href="#cluster-options" class="table-of-contents__link toc-highlight">Cluster Options</a><ul><li><a href="#kubernetes-version" class="table-of-contents__link toc-highlight">Kubernetes Version</a></li><li><a href="#cluster-resource-group" class="table-of-contents__link toc-highlight">Cluster Resource Group</a></li><li><a href="#linux-admin-username" class="table-of-contents__link toc-highlight">Linux Admin Username</a></li><li><a href="#ssh-public-key" class="table-of-contents__link toc-highlight">SSH Public Key</a></li><li><a href="#tags" class="table-of-contents__link toc-highlight">Tags</a></li></ul></li><li><a href="#networking-options" class="table-of-contents__link toc-highlight">Networking Options</a><ul><li><a href="#loadbalancer-sku" class="table-of-contents__link toc-highlight">LoadBalancer SKU</a></li><li><a href="#network-policy" class="table-of-contents__link toc-highlight">Network Policy</a></li><li><a href="#dns-prefix" class="table-of-contents__link toc-highlight">DNS Prefix</a></li><li><a href="#network-plugin" class="table-of-contents__link toc-highlight">Network Plugin</a></li><li><a href="#http-application-routing" class="table-of-contents__link toc-highlight">HTTP Application Routing</a></li><li><a href="#set-authorized-ip-ranges" class="table-of-contents__link toc-highlight">Set Authorized IP Ranges</a></li><li><a href="#container-monitoring" class="table-of-contents__link toc-highlight">Container Monitoring</a></li><li><a href="#log-analytics-workspace-resource-group" class="table-of-contents__link toc-highlight">Log Analytics Workspace Resource Group</a></li><li><a href="#log-analytics-workspace-name" class="table-of-contents__link toc-highlight">Log Analytics Workspace Name</a></li><li><a href="#support-private-kubernetes-service" class="table-of-contents__link toc-highlight">Support Private Kubernetes Service</a></li></ul></li><li><a href="#node-pools" class="table-of-contents__link toc-highlight">Node Pools</a><ul><li><a href="#mode" class="table-of-contents__link toc-highlight">Mode</a></li><li><a href="#availability-zones" class="table-of-contents__link toc-highlight">Availability Zones</a></li><li><a href="#vm-size" class="table-of-contents__link toc-highlight">VM Size</a></li><li><a href="#os-disk-type" class="table-of-contents__link toc-highlight">OS Disk Type</a></li><li><a href="#os-disk-size" class="table-of-contents__link toc-highlight">OS Disk Size</a></li><li><a href="#node-count" class="table-of-contents__link toc-highlight">Node Count</a></li><li><a href="#max-pods-per-node" class="table-of-contents__link toc-highlight">Max Pods Per Node</a></li><li><a href="#enable-auto-scaling" class="table-of-contents__link toc-highlight">Enable Auto Scaling</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.f131fc6a.js"></script>
<script src="/assets/js/main.c2182cb5.js"></script>
</body>
</html>