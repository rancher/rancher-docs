<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.5 plugin-docs plugin-id-default docs-doc-id-how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="Rancher Manager" href="/opensearch.xml"><title data-rh="true">Configuring Google OAuth | Rancher Manager</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.ranchermanager.rancher.io//v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.5"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.5"><meta data-rh="true" name="docsearch:version" content="2.5"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.5"><meta data-rh="true" property="og:title" content="Configuring Google OAuth | Rancher Manager"><meta data-rh="true" name="description" content="If your organization uses G Suite for user authentication, you can configure Rancher to allow your users to log in using their G Suite credentials."><meta data-rh="true" property="og:description" content="If your organization uses G Suite for user authentication, you can configure Rancher to allow your users to log in using their G Suite credentials."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="http://docs.ranchermanager.rancher.io//v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth" hreflang="zh"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.31d3122a.css">
<link rel="preload" href="/assets/js/runtime~main.27255602.js" as="script">
<link rel="preload" href="/assets/js/main.e323e132.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v2.5">v2.5</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/">v2.6</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth">v2.5</a></li><li><a class="dropdown__link" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/zh/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth" target="_self" rel="noopener noreferrer" class="dropdown__link">简体中文</a></li></ul></div><a href="https://github.com/rancher/rancher-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.5">Rancher 2.5</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/v2.5/how-to-guides">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/new-user-guides">New User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;New User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.5/pages-for-subheaders/advanced-user-guides">Advanced User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.5/pages-for-subheaders/authentication-permissions-and-global-configuration">Authentication, Permissions, and Global Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Authentication, Permissions, and Global Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.5/pages-for-subheaders/about-authentication">About Authentication</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Authentication&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.5/pages-for-subheaders/authentication-config">Authentication Config</a><button aria-label="Toggle the collapsible sidebar category &#x27;Authentication Config&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/manage-users-and-groups">Users and Groups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/create-local-users">Local Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth">Configuring Google OAuth</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-active-directory">Configuring Active Directory (AD)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-freeipa">Configuring FreeIPA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad">Configuring Azure AD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-github">Configuring GitHub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-keycloak">Configuring Keycloak (SAML)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-pingidentity">Configuring PingIdentity (SAML)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-okta-saml">Configuring Okta (SAML)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/configure-microsoft-ad-federation-service-saml">Configure Microsoft AD Federation Service (SAML)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configure Microsoft AD Federation Service (SAML)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/configure-shibboleth-saml">Configure Shibboleth (SAML)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configure Shibboleth (SAML)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/manage-role-based-access-control-rbac">Manage Role-Based Access Control (RBAC)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage Role-Based Access Control (RBAC)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/about-provisioning-drivers">About Provisioning Drivers</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Provisioning Drivers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/about-rke1-templates">About RKE1 Templates</a><button aria-label="Toggle the collapsible sidebar category &#x27;About RKE1 Templates&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/create-pod-security-policies">Pod Security Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/global-default-private-registry">Configuring a Global Default Private Registry</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/manage-clusters">Manage Clusters</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage Clusters&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/manage-projects">Manage Projects</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage Projects&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/monitoring-alerting-guides">Monitoring/Alerting Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monitoring/Alerting Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/monitoring-v2-configuration-guides">Monitoring V2 Configuration Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monitoring V2 Configuration Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/istio-setup-guide">Istio Setup Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Istio Setup Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/cis-scan-guides">CIS Scan Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;CIS Scan Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/reference-guides">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/explanations">Explanations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explanations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.5/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Rancher Manager<!-- --> <b>v2.5</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/">latest version</a></b> (<!-- -->v2.6<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.5/how-to-guides"><span itemprop="name">How-to Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.5/pages-for-subheaders/advanced-user-guides"><span itemprop="name">Advanced User Guides</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.5/pages-for-subheaders/authentication-permissions-and-global-configuration"><span itemprop="name">Authentication, Permissions, and Global Configuration</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.5/pages-for-subheaders/about-authentication"><span itemprop="name">About Authentication</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.5/pages-for-subheaders/authentication-config"><span itemprop="name">Authentication Config</span></a><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuring Google OAuth</span><meta itemprop="position" content="6"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.5</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring Google OAuth</h1></header><p>If your organization uses G Suite for user authentication, you can configure Rancher to allow your users to log in using their G Suite credentials.</p><p>Only admins of the G Suite domain have access to the Admin SDK. Therefore, only G Suite admins can configure Google OAuth for Rancher.</p><p>Within Rancher, only administrators or users with the <strong>Manage Authentication</strong> <a href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/global-permissions">global role</a> can configure authentication.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><ul><li>You must have a <a href="https://admin.google.com" target="_blank" rel="noopener noreferrer">G Suite admin account</a> configured.</li><li>G Suite requires a <a href="https://github.com/google/guava/wiki/InternetDomainNameExplained#public-suffixes-and-private-domains" target="_blank" rel="noopener noreferrer">top private domain FQDN</a> as an authorized domain. One way to get an FQDN is by creating an A-record in Route53 for your Rancher server. You do not need to update your Rancher Server URL setting with that record, because there could be clusters using that URL.</li><li>You must have the Admin SDK API enabled for your G Suite domain. You can enable it using the steps on <a href="https://support.google.com/a/answer/60757?hl=en" target="_blank" rel="noopener noreferrer">this page.</a></li></ul><p>After the Admin SDK API is enabled, your G Suite domain&#x27;s API screen should look like this:
<img loading="lazy" alt="Enable Admin APIs" src="/assets/images/Google-Enable-APIs-Screen-b50535bfb53acfe043e5e24347bb6f8d.png" width="2398" height="1286" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-g-suite-for-oauth-with-rancher">Setting up G Suite for OAuth with Rancher<a class="hash-link" href="#setting-up-g-suite-for-oauth-with-rancher" title="Direct link to heading">​</a></h2><p>Before you can set up Google OAuth in Rancher, you need to log in to your G Suite account and do the following:</p><ol><li><a href="#1-adding-rancher-as-an-authorized-domain">Add Rancher as an authorized domain in G Suite</a></li><li><a href="#2-creating-oauth2-credentials-for-the-rancher-server">Generate OAuth2 credentials for the Rancher server</a></li><li><a href="#3-creating-service-account-credentials">Create service account credentials for the Rancher server</a></li><li><a href="#4-register-the-service-account-key-as-an-oauth-client">Register the service account key as an OAuth Client</a></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-adding-rancher-as-an-authorized-domain">1. Adding Rancher as an Authorized Domain<a class="hash-link" href="#1-adding-rancher-as-an-authorized-domain" title="Direct link to heading">​</a></h3><ol><li>Click <a href="https://console.developers.google.com/apis/credentials" target="_blank" rel="noopener noreferrer">here</a> to go to credentials page of your Google domain.</li><li>Select your project and click <strong>OAuth consent screen.</strong><img loading="lazy" alt="OAuth Consent Screen" src="/assets/images/Google-OAuth-consent-screen-tab-32c3418c5270f4125e762342da7d3f9a.png" width="1082" height="712" class="img_ev3q"></li><li>Go to <strong>Authorized Domains</strong> and enter the top private domain of your Rancher server URL in the list. The top private domain is the rightmost superdomain. So for example, <a href="http://www.foo.co.uk" target="_blank" rel="noopener noreferrer">www.foo.co.uk</a> a top private domain of foo.co.uk. For more information on top-level domains, refer to <a href="https://github.com/google/guava/wiki/InternetDomainNameExplained#public-suffixes-and-private-domains" target="_blank" rel="noopener noreferrer">this article.</a></li><li>Go to <strong>Scopes for Google APIs</strong> and make sure <strong>email,</strong> <strong>profile</strong> and <strong>openid</strong> are enabled.</li></ol><p><strong>Result:</strong> Rancher has been added as an authorized domain for the Admin SDK API.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-creating-oauth2-credentials-for-the-rancher-server">2. Creating OAuth2 Credentials for the Rancher Server<a class="hash-link" href="#2-creating-oauth2-credentials-for-the-rancher-server" title="Direct link to heading">​</a></h3><ol><li>Go to the Google API console, select your project, and go to the <a href="https://console.developers.google.com/apis/credentials" target="_blank" rel="noopener noreferrer">credentials page.</a><img loading="lazy" alt="Credentials" src="/assets/images/Google-Credentials-tab-c55f5c0e773946934414505d230366df.png" width="1004" height="418" class="img_ev3q"></li><li>On the <strong>Create Credentials</strong> dropdown, select <strong>OAuth client ID.</strong></li><li>Click <strong>Web application.</strong></li><li>Provide a name.</li><li>Fill out the <strong>Authorized JavaScript origins</strong> and <strong>Authorized redirect URIs.</strong> Note: The Rancher UI page for setting up Google OAuth (available from the Global view under <strong>Security &gt; Authentication &gt; Google</strong>) provides you the exact links to enter for this step.</li></ol><ul><li>Under <strong>Authorized JavaScript origins,</strong> enter your Rancher server URL.</li><li>Under <strong>Authorized redirect URIs,</strong> enter your Rancher server URL appended with the path <code>verify-auth</code>. For example, if your URI is <code>https://rancherServer</code>, you will enter <code>https://rancherServer/verify-auth</code>.</li></ul><ol><li>Click on <strong>Create.</strong></li><li>After the credential is created, you will see a screen with a list of your credentials. Choose the credential you just created, and in that row on rightmost side, click <strong>Download JSON.</strong> Save the file so that you can provide these credentials to Rancher.</li></ol><p><strong>Result:</strong> Your OAuth credentials have been successfully created.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-creating-service-account-credentials">3. Creating Service Account Credentials<a class="hash-link" href="#3-creating-service-account-credentials" title="Direct link to heading">​</a></h3><p>Since the Google Admin SDK is available only to admins, regular users cannot use it to retrieve profiles of other users or their groups. Regular users cannot even retrieve their own groups.</p><p>Since Rancher provides group-based membership access, we require the users to be able to get their own groups, and look up other users and groups when needed.</p><p>As a workaround to get this capability, G Suite recommends creating a service account and delegating authority of your G Suite domain to that service account.</p><p>This section describes how to:</p><ul><li>Create a service account</li><li>Create a key for the service account and download the credentials as JSON</li></ul><ol><li>Click <a href="https://console.developers.google.com/iam-admin/serviceaccounts" target="_blank" rel="noopener noreferrer">here</a> and select your project for which you generated OAuth credentials.</li><li>Click on <strong>Create Service Account.</strong></li><li>Enter a name and click <strong>Create.</strong><img loading="lazy" alt="Service account creation Step 1" src="/assets/images/Google-svc-acc-step1-d5ffa189a2f7d48276489dc822af13dc.png" width="1470" height="990" class="img_ev3q"></li><li>Don&#x27;t provide any roles on the <strong>Service account permissions</strong> page and click <strong>Continue</strong><img loading="lazy" alt="Service account creation Step 2" src="/assets/images/Google-svc-acc-step2-81585fe242ee9d1f74d269931261eec7.png" width="1560" height="888" class="img_ev3q"></li><li>Click on <strong>Create Key</strong> and select the JSON option. Download the JSON file and save it so that you can provide it as the service account credentials to Rancher.
<img loading="lazy" alt="Service account creation Step 3" src="/assets/images/Google-svc-acc-step3-key-creation-ab07e4e887ee459e9cc6eb172689dffc.png" width="2278" height="1328" class="img_ev3q"></li></ol><p><strong>Result:</strong> Your service account is created.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-register-the-service-account-key-as-an-oauth-client">4. Register the Service Account Key as an OAuth Client<a class="hash-link" href="#4-register-the-service-account-key-as-an-oauth-client" title="Direct link to heading">​</a></h3><p>You will need to grant some permissions to the service account you created in the last step. Rancher requires you to grant only read-only permissions for users and groups.</p><p>Using the Unique ID of the service account key, register it as an Oauth Client using the following steps:</p><ol><li><p>Get the Unique ID of the key you just created. If it&#x27;s not displayed in the list of keys right next to the one you created, you will have to enable it. To enable it, click <strong>Unique ID</strong> and click <strong>OK.</strong> This will add a <strong>Unique ID</strong> column to the list of service account keys. Save the one listed for the service account you created. NOTE: This is a numeric key, not to be confused with the alphanumeric field <strong>Key ID.</strong></p><p><img loading="lazy" alt="Service account Unique ID" src="/assets/images/Google-Select-UniqueID-column-8a3aaf074a5bf58e635aa59ab2ce7189.png" width="500" height="732" class="img_ev3q"></p></li><li><p>Go to the <a href="https://admin.google.com/AdminHome?chromeless=1#OGX:ManageOauthClients" target="_blank" rel="noopener noreferrer"><strong>Manage OAuth Client Access</strong> page.</a></p></li><li><p>Add the Unique ID obtained in the previous step in the <strong>Client Name</strong> field.</p></li><li><p>In the <strong>One or More API Scopes</strong> field, add the following scopes:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">openid,profile,email,https://www.googleapis.com/auth/admin.directory.user.readonly,https://www.googleapis.com/auth/admin.directory.group.readonly</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Click <strong>Authorize.</strong></p></li></ol><p><strong>Result:</strong> The service account is registered as an OAuth client in your G Suite account.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-google-oauth-in-rancher">Configuring Google OAuth in Rancher<a class="hash-link" href="#configuring-google-oauth-in-rancher" title="Direct link to heading">​</a></h2><ol><li>Sign into Rancher using a local user assigned the <a href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/global-permissions">administrator</a> role. This user is also called the local principal.</li><li>From the <strong>Global</strong> view, click <strong>Security &gt; Authentication</strong> from the main menu.</li><li>Click <strong>Google.</strong> The instructions in the UI cover the steps to set up authentication with Google OAuth.<ol><li>Admin Email: Provide the email of an administrator account from your GSuite setup. In order to perform user and group lookups, google apis require an administrator&#x27;s email in conjunction with the service account key.</li><li>Domain: Provide the domain on which you have configured GSuite. Provide the exact domain and not any aliases.</li><li>Nested Group Membership: Check this box to enable nested group memberships. Rancher admins can disable this at any time after configuring auth.</li></ol><ul><li><strong>Step One</strong> is about adding Rancher as an authorized domain, which we already covered in <a href="#1-adding-rancher-as-an-authorized-domain">this section.</a></li><li>For <strong>Step Two,</strong> provide the OAuth credentials JSON that you downloaded after completing <a href="#2-creating-oauth2-credentials-for-the-rancher-server">this section.</a> You can upload the file or paste the contents into the <strong>OAuth Credentials</strong> field.</li><li>For <strong>Step Three,</strong> provide the service account credentials JSON that downloaded at the end of <a href="#3-creating-service-account-credentials">this section.</a> The credentials will only work if you successfully <a href="#4-register-the-service-account-key-as-an-oauth-client">registered the service account key</a> as an OAuth client in your G Suite account.</li></ul></li><li>Click <strong>Authenticate with Google</strong>.</li><li>Click <strong>Save</strong>.</li></ol><p><strong>Result:</strong> Google authentication is successfully configured.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-10-29T00:09:19.000Z">10/29/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/create-local-users"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Local Authentication</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-active-directory"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuring Active Directory (AD)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setting-up-g-suite-for-oauth-with-rancher" class="table-of-contents__link toc-highlight">Setting up G Suite for OAuth with Rancher</a><ul><li><a href="#1-adding-rancher-as-an-authorized-domain" class="table-of-contents__link toc-highlight">1. Adding Rancher as an Authorized Domain</a></li><li><a href="#2-creating-oauth2-credentials-for-the-rancher-server" class="table-of-contents__link toc-highlight">2. Creating OAuth2 Credentials for the Rancher Server</a></li><li><a href="#3-creating-service-account-credentials" class="table-of-contents__link toc-highlight">3. Creating Service Account Credentials</a></li><li><a href="#4-register-the-service-account-key-as-an-oauth-client" class="table-of-contents__link toc-highlight">4. Register the Service Account Key as an OAuth Client</a></li></ul></li><li><a href="#configuring-google-oauth-in-rancher" class="table-of-contents__link toc-highlight">Configuring Google OAuth in Rancher</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.27255602.js"></script>
<script src="/assets/js/main.e323e132.js"></script>
</body>
</html>